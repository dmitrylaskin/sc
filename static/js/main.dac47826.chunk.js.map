{"version":3,"sources":["Components/Redux/message-reducer.js","Components/Profile/MyPosts/Post/Post.module.css","Components/Nav/Nav.module.css","Components/common/FormControls/FormControls.jsx","assets/images/jedi-kenobi-obiwan.png","Components/Nav/Nav.jsx","Components/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","Components/Profile/ProfileStatus/ProfileStatus.jsx","Components/Profile/ProfileInfo/ProfileDataForm.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","api/api.js","Components/Redux/profile-reducer.js","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfieContainer.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","Components/Redux/user-reducer.js","Components/common/Paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","Components/Redux/user-selectors.js","Components/Users/UsersContainer.jsx","Components/Header/Header.jsx","Components/Redux/auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","Components/Login/LoginContainer.jsx","Components/Redux/app-reducer.js","App.js","serviceWorker.js","Components/Redux/sidebar-reducer.js","Components/Redux/redux-store.js","index.js","Components/Profile/ProfileInfo/ProfileInfo.module.css","utilites/validators/validators.js","assets/images/6.gif","assets/images/user-icon.png","Components/common/FormControls/FormControls.module.css","Components/Profile/ProfileStatus/ProfileStatus.module.css","Components/common/Paginator/Paginator.module.css","Components/Header/Header.module.css","Components/Users/Users.module.css","Components/Profile/MyPosts/MyPosts.module.css","Components/Hoc/withAuthRedirect.js"],"names":["initialState","MessagesData","id","text","newMessageText","DialogsData","name","addMessageActionCreator","type","body","messageReducer","state","action","newMessage","module","exports","FormController","input","meta","props","hasError","touched","error","className","classes","formControls","children","Textarea","restProps","Input","Nav","nav","item","active","to","activeClassName","activeLink","ProfileStatusWithHooks","React","Component","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onBlur","updateUserStatusThunkCreator","onChange","event","currentTarget","value","autoFocus","ProfileDataFormReduxForm","reduxForm","form","onSubmit","handleSubmit","formSummaryError","Field","component","placeholder","validate","Object","keys","profile","contacts","map","key","contacs","Contact","contactKey","contactValue","c","ProfileData","isOwner","onClick","goEditMode","aboutMe","fullName","lookingForAJob","lookingForAJobDescription","ProfileInfo","src","preloader","description","mainPhoto","photos","large","userPhoto","target","files","length","saveProfile","initialValues","formData","then","instance","axios","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","response","data","delete","post","profileAPI","userId","put","file","FormData","append","authAPI","email","password","rememberMe","PostsData","likes","newPostText","setUserProfile","setUserStatus","getUserProfileThunkCreator","dispatch","a","profileReducer","newPost","filter","p","postId","photoFile","Post","alt","message","maxLength","maxLengthCreator","AddPostReduxForm","required","MyPosts","PostObj","createRef","posts","addPost","mes","MyPostsContainer","connect","ProfilePage","addPostActionCreator","updateNewPostText","newText","onPostChangeActionCreator","Profile","savePhoto","ProfileContainer","this","match","params","authorisedUserId","history","push","getUserStatusThunkCreator","refreshProfile","prevProps","prevState","snapshot","saveProfileThunkCreator","esavePhoto","savePhotoThunkCreator","Composed","compose","auth","isAuth","resultCode","userid","getState","stopSubmit","_error","messages","Promise","reject","withRouter","News","Music","Settings","users","totalUsersCount","isFetching","followingInProgress","fake","setUsers","setCurrentPage","page","setTotalUsersCount","totalCount","count","toggleIsFetching","toggle","toggleFollowingProgress","statusProgress","usersReducer","followed","Paginator","pagesCount","Math","ceil","totalItemsCount","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pageCount","pages","i","paginator","cn","selectedPage","pageNumber","e","onPageChanged","User","user","usersPhoto","small","disabled","some","unfollowThunk","followThunk","Users","u","getUsersSelectorSuper","createSelector","usersPage","getPageSizeSelector","getTotalUsersCountSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingInProgressSelector","UsersAPIComponent","getUsersThunkCreatorPageChanged","getUsersThunkCreator","items","Header","header","loginBlock","login","getLogoutThunkCreator","setAuthUserData","payload","getAuthUserDataThunkCreator","authReducer","HeaderContainer","LoginReduxForm","Login","getLoginThunkCreator","initialized","appReducer","DialogsContainer","lazy","App","initializeAppThunkCreator","path","render","Suspense","fallback","UsersContainer","LoginContainer","app","dispatchResult","all","Boolean","window","location","hostname","sidebarReducer","benchOfReducers","combineReducers","MessagesPage","sidebar","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","mapStateToPropsForRedirect","withAuthRedirect"],"mappings":"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","file":"static/js/main.dac47826.chunk.js","sourcesContent":["let SEND_MESSAGE = 'SEND-MESSAGE';\r\nlet UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\r\n\r\nlet initialState = {\r\n    MessagesData: [\r\n        {id: 1, text: 'Hello!'},\r\n        {id: 2, text: 'How your learning!'},\r\n        {id: 3, text: 'Yo!'}\r\n    ],\r\n    newMessageText: 'Message default :D',\r\n\r\n    DialogsData: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Valera'},\r\n        {id: 5, name: 'Misha'},\r\n        {id: 6, name: 'Katya'}\r\n    ]\r\n};\r\n//// В message-reducer сделано через switch!\r\nconst messageReducer = (state = initialState, action) => {\r\n    let stateCopy;\r\n    if (action.type === SEND_MESSAGE) {\r\n        let newMessage = {\r\n            id: 4,\r\n            text: action.body\r\n            // text: state.newMessageText\r\n        };\r\n        return  {...state,\r\n            newMessageText: '',\r\n            MessagesData: [...state.MessagesData, newMessage]};\r\n        // stateCopy.MessagesData = [...state.MessagesData];\r\n        // stateCopy.MessagesData.push(newMessage);\r\n        // stateCopy.newMessageText = '';\r\n        // return stateCopy\r\n\r\n\r\n    // } else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {\r\n    //     return {...state, newMessageText: action.newMText};\r\n        // stateCopy.newMessageText = action.newMText;\r\n        // return stateCopy\r\n\r\n    } else return state\r\n};\r\n\r\n\r\n// const messageReducer = (state = initialState, action) => {\r\n//     if (action.type === SEND_MESSAGE) {\r\n//         let newMessage = {\r\n//             id: 4,\r\n//             text: state.newMessageText\r\n//         };\r\n//\r\n//         state.MessagesData.push(newMessage);\r\n//         state.newMessageText = '';\r\n//\r\n//\r\n//     } else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {\r\n//         state.newMessageText = action.newMText;\r\n//\r\n//     }\r\n//     return state\r\n// };\r\n\r\nexport const addMessageActionCreator = (newMessageText) => ({type: SEND_MESSAGE, body: newMessageText});\r\n\r\n// export const onMessageChangeActionCreator = (text) => ({\r\n//     type: UPDATE_NEW_MESSAGE_TEXT,\r\n//     newMText: text\r\n// });\r\n\r\n\r\n\r\nexport default messageReducer\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1HiMt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3P-y8\",\"item\":\"Nav_item__RNuav\",\"activeLink\":\"Nav_activeLink__23ac6\"};","import React from \"react\";\r\nimport classes from \"./FormControls.module.css\"\r\n\r\n\r\nexport const FormController = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (<div className={classes.formControls + \" \" + (hasError ? classes.error : \"\")}>\r\n\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        {hasError && <span>{meta.error}</span>}\r\n\r\n    </div>)\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const {input, meta, ...restProps} = props\r\n\r\n    return <FormController {...props}><textarea {...input} {...restProps}/></FormController>\r\n\r\n\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const {input, meta, ...restProps} = props\r\n\r\n    return <FormController {...props}><input {...input} {...restProps}/></FormController>\r\n}","module.exports = \"data:image/png;base64,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\"","import React from \"react\";\r\n// import './Nav.module.css'\r\nimport classes from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={`${classes.item} ${classes.active}`}>\r\n                <NavLink to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\nexport default Nav","import React, {useEffect, useState} from \"react\";\r\nimport classes from './ProfileStatus.module.css'\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateUserStatusThunkCreator(status)\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.currentTarget.value)\r\n    }\r\n\r\n\r\n        return (\r\n            <div>\r\n\r\n                {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditMode} className={classes.status} >\r\n                        {props.status || 'ERROR :('}\r\n                    </span>\r\n                </div>}\r\n\r\n                {editMode &&\r\n                <div>\r\n                    <input onBlur={deActivateEditMode} onChange={onStatusChange} autoFocus={true} value={status}/>\r\n                </div>}\r\n\r\n            </div>\r\n        )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from \"react\";\r\nimport classes from './ProfileStatus.module.css'\r\n\r\n// переделано на хуки!!!\r\nclass ProfileStatus extends React.Component {\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n    activateEditMode() {\r\n        //метод setState перезаписывает свойства объекта из state\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n    deActivateEditMode() {\r\n        //метод setState перезаписывает свойства объекта из state\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateUserStatusThunkCreator(this.state.status)\r\n    }\r\n    onStatusChange = (event) => {\r\n        this.setState({\r\n            status: event.currentTarget.value\r\n        })\r\n\r\n\r\n    }\r\n// за счет вызова метода componentDidUpdate сетаем status из пришедших пропсов в local state сразу!\r\n// таким образом local state всегда соответствует state пришедшвему из пропсов\r\n    componentDidUpdate(prevProps, prevState) {\r\n\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n\r\n                {!this.state.editMode &&\r\n                <div>\r\n                    <span className={classes.status} onDoubleClick={this.activateEditMode.bind(this)}>\r\n                        {this.props.status || 'ERROR :('}\r\n                    </span>\r\n                </div>}\r\n\r\n                {this.state.editMode &&\r\n                <div>\r\n                    <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deActivateEditMode.bind(this)} value={this.state.status}/>\r\n                </div>}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileStatus","import React from \"react\";\r\nimport {Input, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {required} from \"../../../utilites/validators/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport classes from \"./ProfileInfo.module.css\"\r\n\r\n\r\nlet ProfileDataForm = (props) => {\r\n    return (<form onSubmit={props.handleSubmit}>\r\n        {<div><button>save</button></div>}\r\n\r\n        {props.error && <div className={classes.formSummaryError}>\r\n            {props.error}\r\n\r\n        </div>}\r\n\r\n        <div><b>Description:</b></div>\r\n\r\n        <div><b>About Me:</b> {\r\n            <Field component={Input} name={'aboutMe'} placeholder={'about me'} validate={[]}/>\r\n        }</div>\r\n\r\n        <div><b>Full name:</b> {\r\n            <Field component={Input} name={'fullName'} placeholder={'name'} validate={[]}/>\r\n        }</div>\r\n\r\n        <div><b>Looking for a job: </b>\r\n        <Field type={'checkbox'} component={Input} name={'lookingForAJob'} placeholder={''} validate={[]}/>\r\n        </div>\r\n\r\n        <div><b>My professional skills: </b>\r\n            <Field component={Textarea} name={'lookingForAJobDescription'} placeholder={''} validate={[]}/>\r\n        </div>\r\n\r\n        <div><b>Contacts:</b> {Object.keys(props.profile.contacts).map(key => {\r\n            return <div key={key} className={classes.contacs}>\r\n                <b>{key}:{<Field component={Textarea} name={'contacts.' + key} placeholder={key} validate={[]}/>} </b>\r\n                </div>\r\n            // <Contact key={key} contactKey={key} contactValue={props.profile.contacts[key]}/>\r\n        })}</div>\r\n\r\n    </form>)\r\n}\r\nlet ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'}) (ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm","import React, {useState} from \"react\";\r\nimport classes from './ProfileInfo.module.css'\r\nimport preloader from '../../../assets/images/6.gif'\r\nimport Profile from \"../Profile\";\r\nimport ProfileStatus from \"../ProfileStatus/ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"../ProfileStatus/ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/user-icon.png\"\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if(!props.profile) {\r\n        return <img src={preloader}/>\r\n        // return <preloader/>\r\n    }\r\n    const onMainPhotoSelected = (event) => {\r\n        if (event.target.files.length) {\r\n            props.saveProfile(event.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfile(formData)\r\n            .then(() => {\r\n                setEditMode(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.item}>\r\n            {/*<img*/}\r\n            {/*    src=\"https://s.yimg.com/uu/api/res/1.2/DdytqdFTgtQuxVrHLDdmjQ--~B/aD03MTY7dz0xMDgwO3NtPTE7YXBwaWQ9eXRhY2h5b24-/https://media-mbst-pub-ue1.s3.amazonaws.com/creatr-uploaded-images/2019-11/7b5b5330-112b-11ea-a77f-7c019be7ecae\"*/}\r\n            {/*    alt=\"\"/>*/}\r\n\r\n            <div className={classes.description}>\r\n\r\n                <img className={classes.mainPhoto} src={props.profile.photos.large || userPhoto}/>\r\n\r\n                <div>\r\n                {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}\r\n                </div>\r\n\r\n                <b>Status:</b> <ProfileStatusWithHooks status={props.status} updateUserStatusThunkCreator={props.updateUserStatusThunkCreator}/>\r\n\r\n                {editMode ? <ProfileDataForm initialValues={props.profile} onSubmit={onSubmit} {...props}/> : <ProfileData {...props} goEditMode={()=> {setEditMode(true)}} isOwner={props.isOwner}/>}\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet Contact = ({contactKey, contactValue}) => {\r\n    return <div className={classes.contacs} c><b>{contactKey}</b>: {contactValue}</div>\r\n\r\n}\r\nlet ProfileData = (props) => {\r\n    return (<div>\r\n        {props.isOwner && <div><button onClick={props.goEditMode}>edit</button></div>}\r\n\r\n        <div><b>Description:</b></div>\r\n        <div><b>About Me:</b> {props.profile.aboutMe}</div>\r\n        <div><b>Full name:</b> {props.profile.fullName}</div>\r\n        <div><b>Looking for a job: </b>{props.profile.lookingForAJob ? \"yes\" : \"no\"}</div>\r\n        <div><b>My professional skills: </b> {props.profile.lookingForAJobDescription}</div>\r\n        <div><b>Contacts:</b> {Object.keys(props.profile.contacts).map(key => {\r\n            return <Contact key={key} contactKey={key} contactValue={props.profile.contacts[key]}/>\r\n        })}</div>\r\n\r\n    </div>)\r\n}\r\n\r\nexport default ProfileInfo","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n\r\n});\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`, {\r\n            // withCredentials: true\r\n        })\r\n            .then(response => {\r\n\r\n                return  response.data\r\n            })\r\n    },\r\n    getFollow(id = 2) {\r\n        return instance.delete(`follow/${id}`, {\r\n            // withCredentials: true,\r\n            // headers: {'API-KEY': '5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n        })\r\n            // .then(response => {\r\n            //     return  response.data\r\n            // })\r\n    },\r\n    getUnfollow(id = 2) {\r\n        return instance.post(`follow/${id}`, {}, {\r\n            // withCredentials: true,\r\n            // headers: {'API-KEY':'5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n        })\r\n            // .then(response => {\r\n            //     return  response.data\r\n            // })\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    getUpdateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    getPhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuthUserData() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    getLogin(email, password, rememberMe=false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    getLoginout() {\r\n        return instance.delete(`auth/login` )\r\n    }\r\n};\r\n\r\n\r\n// export const getUsers = (currentPage = 1, pageSize = 10) => {\r\n//\r\n//     return instance.get(`users?page=${currentPage}&count=${pageSize}`, {\r\n//         // withCredentials: true\r\n//     })\r\n//         .then(response => {\r\n//\r\n//            return  response.data\r\n//         })\r\n// };\r\n\r\n// export const getFollow = (id = 2) => {\r\n//     return instance.delete(`follow/${id}`, {\r\n//         // withCredentials: true,\r\n//         // headers: {'API-KEY': '5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n//     })\r\n//         .then(response => {\r\n//             return  response.data\r\n//         })\r\n// };\r\n// export const getUnfollow = (id = 2) => {\r\n//     return instance.post(`follow/${id}`, {}, {\r\n//         // withCredentials: true,\r\n//         // headers: {'API-KEY':'5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n//     })\r\n//         .then(response => {\r\n//             return  response.data\r\n//         })\r\n// };\r\n//\r\n","import {profileAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nlet ADD_POST = 'ADD-POST';\r\nlet UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nlet SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nlet SET_USER_STATUS = 'SET-USER-STATUS';\r\nlet DELETE_POST = 'DELETE-POST';\r\nlet PHOTO_IS_SAVED = 'PHOTO-IS-SAVED';\r\nlet PROFILE_IS_SAVED = 'PROFILE-IS-SAVED';\r\n\r\nlet initialState = {\r\n    PostsData: [\r\n        {id: 1, text: 'Its my first post', likes: 24},\r\n        {id: 2, text: 'Hello, hi are you?', likes: 3},\r\n        {id: 3, text: 'Yo!', likes: 3}\r\n    ],\r\n    newPostText: 'default :)',\r\n    profile: null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 4,\r\n                // text: state.newPostText,\r\n                text: action.body,\r\n                likes: 80\r\n            };\r\n            return {\r\n                ...state,\r\n                PostsData: [...state.PostsData, newPost],\r\n                newPostText: ''\r\n            };\r\n            // stateCopy.PostsData = [...state.PostsData];\r\n            // stateCopy.PostsData.push(newPost);\r\n            // stateCopy.newPostText = '';\r\n            // return stateCopy\r\n        }\r\n        // case UPDATE_NEW_POST_TEXT: {\r\n        //     return {...state, newPostText: action.newText};\r\n            // stateCopy.newPostText = action.newText;\r\n            // return stateCopy\r\n        //}\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                PostsData: state.PostsData.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        case PHOTO_IS_SAVED: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photoFile }\r\n\r\n            }\r\n        }\r\n        // case PROFILE_IS_SAVED: {\r\n        //     return {\r\n        //         ...state,\r\n        //\r\n        //     }\r\n        // }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n// const profileReducer = (state = initialState, action) => {\r\n//     if (action.type === ADD_POST) {\r\n//         let newPost = {\r\n//             id: 4,\r\n//             text: state.newPostText,\r\n//             likes: 80\r\n//         };\r\n//         let stateCopy = {...state};\r\n//         stateCopy.PostsData = {...state.PostsData};\r\n//         stateCopy.PostsData.push(newPost);\r\n//         stateCopy.newPostText = '';\r\n//         return stateCopy\r\n//\r\n//\r\n//\r\n//     } else if (action.type === UPDATE_NEW_POST_TEXT) {\r\n//         let stateCopy = {...state};\r\n//         stateCopy.newPostText = {...state.newPostText};\r\n//         stateCopy.newPostText = action.newText;\r\n//         return stateCopy\r\n//\r\n//     } else return state\r\n// };\r\n\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, body: newPostText});\r\n\r\nexport const onPostChangeActionCreator = (text) => ({\r\n    type: UPDATE_NEW_POST_TEXT,\r\n    newText: text\r\n});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile: profile});\r\nexport const setUserStatus = (status) => ({type: SET_USER_STATUS, status: status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccessful = (photoFile) => ({type: PHOTO_IS_SAVED, photoFile})\r\nexport const saveProfile = (profile) => ({type: PROFILE_IS_SAVED, profile})\r\n\r\n//THUNKS:\r\n\r\nexport const getUserProfileThunkCreator = (userId) =>\r\n    async (dispatch) => {\r\n\r\n        let response = await profileAPI.getUserProfile(userId)\r\n        //вынесено в api\r\n        //     .then(response => {\r\n                dispatch(setUserProfile(response.data))\r\n\r\n    }\r\n\r\nexport const getUserStatusThunkCreator = (userid) =>\r\n    async (dispatch) => {\r\n       let response = await profileAPI.getStatus(userid)\r\n            // .then(response => {\r\n                dispatch(setUserStatus(response.data))\r\n\r\n    }\r\n\r\n\r\nexport const updateUserStatusThunkCreator = (status) =>\r\n    async (dispatch) => {\r\n        let response = await profileAPI.getUpdateStatus(status)\r\n            // .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setUserStatus(status))\r\n                }\r\n\r\n    }\r\n\r\nexport const savePhotoThunkCreator = (file) =>\r\n    async (dispatch) => {\r\n    let response = await profileAPI.getPhoto(file)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(savePhotoSuccessful(response.data.data.photos))\r\n        }\r\n\r\n    }\r\n\r\nexport const saveProfileThunkCreator = (profile) =>\r\n\r\n    async (dispatch, getState) => {\r\n    //мы можем в рамках одного редьюсера обращатсья к другим редьюсерам\r\n    //и к глобальному стейту\r\n        let userId = getState().auth.userId\r\n        let response = await profileAPI.saveProfile(profile)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getUserProfileThunkCreator(userId))\r\n        }\r\n        else {\r\n            debugger\r\n            dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n            // для выделения конкретного поля\r\n            //dispatch(stopSubmit('edit-profile', {\"contacts\": {\"facebook\": response.data.messages[0]}}))\r\n            return Promise.reject(response.data.messages[0])\r\n        }\r\n\r\n    }\r\n\r\nexport default profileReducer","import React from \"react\";\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        \r\n            <div className={classes.item}>\r\n\r\n                <img src=\"https://icons.iconarchive.com/icons/diversity-avatars/avatars/256/batman-icon.png\" alt=\"\"/>\r\n                {props.message}\r\n\r\n                <div><span>like</span></div> {props.likes}\r\n\r\n            </div>\r\n\r\n    )\r\n}\r\nexport default Post","import React from \"react\";\r\nimport classes from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utilites/validators/validators\";\r\nimport {Textarea} from \"../../common/FormControls/FormControls\";\r\n\r\n\r\n\r\n\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    let PostObj = props.PostsData.map((key) => <Post key={key.id} message={key.text} likes={key.likes}/>);\r\n\r\n    let newPostElement = React.createRef();\r\n\r\n    let onAddPost = () => {\r\n        // let text = newPostElement.current.value;\r\n        // props.dispatch(addPostActionCreator());\r\n        props.addPost()\r\n        // props.updateNewPostText('')\r\n    };\r\n\r\n\r\n    let onPostChange = () => {\r\n        let text = newPostElement.current.value;\r\n        // props.dispatch(onPostChangeActionCreator(text))\r\n        props.updateNewPostText(text)\r\n    };\r\n\r\n    //набранный текст хранится в стейте redux-form\r\n    let addNewPost = (formData) => {\r\n        props.addPost(formData.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div className={classes.posts}>\r\n            <h3>My Posts</h3>\r\n\r\n            <AddPostReduxForm onSubmit={addNewPost}/>\r\n            <div>\r\n                New Post\r\n            </div>\r\n            <div className={classes.mes}>\r\n                {PostObj}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nlet maxLength = maxLengthCreator(10)\r\n\r\nconst AddPostForm = (props) => {\r\n    return (<div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    {/*<textarea ref={newPostElement}></textarea>*/}\r\n                    {/*<textarea onChange={onPostChange} ref={newPostElement} value={props.newPostText}/>*/}\r\n                    <Field component={Textarea} name={'newPostText'} placeholder={'default -_- from redux-form'} validate={[required, maxLength]}/>\r\n                </div>\r\n                <div>\r\n                    {/*<button onClick={onAddPost}>Add post</button>*/}\r\n                    <button>Add post</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst AddPostReduxForm = reduxForm({form: 'AddPostForm'})(AddPostForm)\r\n\r\nexport default MyPosts","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../Redux/profile-reducer\"\r\nimport {onPostChangeActionCreator} from \"../../Redux/profile-reducer\"\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n// const MyPostsContainer = () => {\r\n//\r\n//     return <StoreContext.Consumer>\r\n//         {(store) => {\r\n//\r\n//             let AddPostCont = () => {\r\n//                 store.dispatch(addPostActionCreator());\r\n//             };\r\n//\r\n//\r\n//             let onPostChangeCont = (text) => {\r\n//                 let action = onPostChangeActionCreator(text)\r\n//                 store.dispatch(action)\r\n//             };\r\n//\r\n//             return <MyPosts addPost={AddPostCont}\r\n//                             updateNewPostText={onPostChangeCont}\r\n//                             PostsData={store.getState().ProfilePage.PostsData}\r\n//                             newPostText={store.getState().ProfilePage.newPostText}/>\r\n//         }\r\n//         }\r\n//     </StoreContext.Consumer>\r\n//\r\n// };\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        PostsData: state.ProfilePage.PostsData,\r\n        newPostText: state.ProfilePage.newPostText\r\n    }\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText))\r\n        },\r\n        updateNewPostText: (text) => {\r\n            dispatch(onPostChangeActionCreator(text))\r\n        }\r\n    }\r\n};\r\n\r\nlet MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n// export default MyPostsContainer\r\nexport default MyPostsContainer","import React from \"react\";\r\nimport './Profile.module.css';\r\nimport classes from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo saveProfile={props.saveProfile} savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status}  updateUserStatusThunkCreator={props.updateUserStatusThunkCreator}/>\r\n\r\n            <MyPostsContainer/>\r\n\r\n\r\n        </div>\r\n    )\r\n};\r\nexport default Profile","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfileThunkCreator,\r\n    getUserStatusThunkCreator, savePhotoThunkCreator, saveProfileThunkCreator,\r\n    setUserProfile,\r\n    updateUserStatusThunkCreator\r\n} from \"../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {profileAPI} from \"../../api/api\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\r\n    refreshProfile() {\r\n        let userId =  this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorisedUserId\r\n            if (!userId) {\r\n                //программный редирект на login\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfileThunkCreator(userId)\r\n        this.props.getUserStatusThunkCreator(userId)\r\n\r\n    }\r\n\r\n    //выполняется сразу после render() и сообщается, что можно делать запрос на сервер\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n\r\n        // let userId =  this.props.match.params.userId\r\n        // if (!userId) {userId = '2'}\r\n        //\r\n        // profileAPI.getUserProfile(userId)\r\n        // //вынесено в api\r\n        // //axios.get(`https://social-network.samuraijs.com/api/1.0/profile/${userId}`)\r\n        //\r\n        // .then(response => {\r\n        //\r\n        //     this.props.setUserProfile(response.data)\r\n        // })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n\r\n    }\r\n\r\n        render() {\r\n\r\n\r\n        return <Profile saveProfile={this.props.saveProfileThunkCreator} esavePhoto={this.props.savePhotoThunkCreator} isOwner={!this.props.match.params.userId} {...this.props} profile={this.props.profile} updateUserStatusThunkCreator={this.props.updateUserStatusThunkCreator}/>\r\n    }\r\n}\r\n// прокидываем props из state для этой компоненты\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        profile: state.ProfilePage.profile,\r\n        status: state.ProfilePage.status,\r\n        authorisedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n\r\n\r\n    }\r\n};\r\n\r\n\r\n//перенесенов hoc\r\n// let AuthRedirectContainerComponent = (props) => {\r\n//     if (!props.isAuth) {return <Redirect to={'/login'}/>}\r\n//     return <ProfileContainer {...props}/>\r\n// };\r\n\r\n//let AuthRedirectContainerComponentWithState = withAuthRedirect(ProfileContainer)\r\n\r\n\r\n\r\n// между ProfileContainer и connect\r\n\r\n//let WithUrlDataProfileComponent = withRouter(AuthRedirectContainerComponentWithState)\r\n\r\n//ProfileContainer делает грязную работу по запросу на сервер\r\n//connect работает со стором\r\n//export default connect(mapStateToProps, {setUserProfile, getUserProfileThunkCreator}) (WithUrlDataProfileComponent)\r\n\r\nlet Composed = compose(\r\n    connect(mapStateToProps, {setUserProfile, getUserProfileThunkCreator, updateUserStatusThunkCreator, getUserStatusThunkCreator, savePhotoThunkCreator, saveProfileThunkCreator}),\r\n    withRouter,\r\n    // withAuthRedirect\r\n)(ProfileContainer);\r\n\r\nexport default Composed\r\n","import React from \"react\";\r\nimport classes from './News.module.css'\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default News","import React from \"react\";\r\nimport classes from './Music.module.css'\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music","import React from \"react\";\r\nimport classes from './Settings.module.css'\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default Settings","import {usersAPI} from \"../../api/api\";\r\n\r\nconst FOLLOW ='FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst TOTAL_USERS_COUNT = 'TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING ';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\r\nconst fake = 'fake'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 21,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [],\r\n    fake: 'fake'\r\n};\r\nlet usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                // users: [...state.users],\r\n                users: state.users.map((key) => {\r\n                        if (key.id === action.userid) {\r\n                            return {...key, followed: true} // возвращем копию объекта user[?], 'followed:' затираем\r\n                        }\r\n                        return key\r\n                    }\r\n                )\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((key) => {\r\n                        if (key.id === action.userid) {\r\n                            return {...key, followed: false}\r\n                        }\r\n                        return key\r\n                    }\r\n                )\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        } case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                 currentPage: action.page\r\n                //currentPage: action.currentPage\r\n            }\r\n        } case TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        } case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.toggle\r\n\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.statusProgress\r\n                ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        // case fake: return {...state, fake: state.fake + 1}\r\n        default: return state;\r\n    }\r\n};\r\n\r\nexport const follow = (userid) => ({type: FOLLOW, userid});\r\nexport const unfollow = (userid) => ({type: UNFOLLOW, userid});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, page: currentPage});\r\n// export const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: TOTAL_USERS_COUNT, count: totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, toggle: isFetching});\r\nexport const toggleFollowingProgress = (statusProgress, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, statusProgress, userId})\r\n\r\n//THUNKS:\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n    //currentPage, pageSize замыкаются в thunk\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        //вынесено в api\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n            // .then((data) => {\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items))\r\n                dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const getUsersThunkCreatorPageChanged = (pageNumber, pageSize) =>\r\n    //currentPage, pageSize замыкаются в thunk\r\n    async (dispatch) => {\r\n        dispatch(setCurrentPage(pageNumber))\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersAPI.getUsers(pageNumber, pageSize)\r\n        //вынесено в api\r\n        //     .then((data) => {\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items));\r\n\r\n    }\r\n\r\n\r\nexport const unfollowThunk = (userId) =>\r\n    //currentPage, pageSize замыкаются в thunk\r\n    async (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n\r\n        let response = await usersAPI.getFollow(userId)\r\n            // .then(response => {\r\n\r\n                if (response.data.resultCode == 0) {\r\n                    dispatch(unfollow(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n\r\n\r\nexport const followThunk = (userId) =>\r\n    //currentPage, pageSize замыкаются в thunk\r\n    async (dispatch) => {\r\n       dispatch( toggleFollowingProgress(true, userId))\r\n        let response= await usersAPI.getUnfollow(userId)\r\n            // .then(response => {\r\n\r\n                if (response.data.resultCode == 0) {\r\n                    dispatch(follow(userId))\r\n                }\r\n               dispatch( toggleFollowingProgress(false, userId))\r\n\r\n    }\r\n\r\nexport default usersReducer","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\n\r\nconst Paginator = (props) => {\r\n    let portionSize = 10;\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\r\n    let pageCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div className={classes.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [classes.selectedPage]: props.currentPage === p\r\n                }, classes.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n\r\n    { portionCount > portionNumber &&\r\n    <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n</div>\r\n\r\n\r\n\r\n    // return <div>\r\n    //     <div className={classes.pageNums}>\r\n    //         {pages.map(p => {\r\n    //             return <span className={props.currentPage === p && classes.selectedPage}\r\n    //                          onClick={() => {\r\n    //                              props.onPageChanged(p)\r\n    //                          }}>{p}</span>\r\n    //         })}\r\n    //     </div>\r\n    // </div>\r\n};\r\n\r\n\r\nexport default Paginator","import {NavLink} from \"react-router-dom\";\r\nimport classes from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user-icon.png\";\r\nimport React from \"react\";\r\n\r\nconst User = (props) => {\r\n\r\n    return (<div key={props.user.id}>\r\n\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + props.user.id}>\r\n                        <img className={classes.usersPhoto} src={\r\n\r\n                            props.user.photos.small != null ? props.user.photos.small : userPhoto\r\n\r\n                        } alt=\"\"/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            props.user.followed ? <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                                    //вынесено в api\r\n                                    // axios.delete(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {\r\n                                    //     withCredentials: true,\r\n                                    //     headers: {'API-KEY':'5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n                                    // })\r\n\r\n                                    props.unfollowThunk(props.user.id)\r\n\r\n                                    // props.toggleFollowingProgress(true, u.id)\r\n                                    //\r\n                                    // usersAPI.getFollow(u.id)\r\n                                    //     .then(response => {\r\n                                    //\r\n                                    //         if (response.data.resultCode == 0) {\r\n                                    //             props.unfollow(u.id)\r\n                                    //         }\r\n                                    //         props.toggleFollowingProgress(false, u.id)\r\n                                    //\r\n                                    //     });\r\n\r\n                                }}>Unfollow</button>\r\n\r\n                                : <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n                                    //вынесено в api\r\n                                    // axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\r\n                                    //     withCredentials: true,\r\n                                    //     headers: {'API-KEY':'5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n                                    // })\r\n\r\n                                    props.followThunk(props.user.id)\r\n\r\n                                    // props.toggleFollowingProgress(true, u.id)\r\n                                    // usersAPI.getUnfollow(u.id)\r\n                                    //     .then(response => {\r\n                                    //\r\n                                    //         if (response.data.resultCode == 0) {\r\n                                    //             props.follow(u.id)\r\n                                    //         }\r\n                                    //         props.toggleFollowingProgress(false, u.id)\r\n                                    //\r\n                                    //     });\r\n\r\n                                }}>Follow</button>\r\n                        }\r\n                    </div>\r\n                    <span>\r\n                        <span>\r\n                            <div>{props.user.name}</div>\r\n                            <div>{props.user.status}</div>\r\n                        </span>\r\n                        <span>\r\n                            <div>{\"u.location.country\"}</div>\r\n                            <div>{\"u.location.city\"}</div>\r\n                        </span>\r\n                    </span>\r\n                </span>\r\n    </div>)\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport classes from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user-icon.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    // let pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    // let pages = [];\r\n    // for (let i = 1; i <= pageCount; i++) {\r\n    //     pages.push(i)\r\n    // }\r\n\r\n    return <div>\r\n\r\n        <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} currentPage={props.currentPage} onPageChanged={props.onPageChanged}/>\r\n\r\n        {/*<div className={classes.pageNums}>*/}\r\n        {/*    {pages.map(p => {*/}\r\n        {/*        return <span className={props.currentPage === p && classes.selectedPage}*/}\r\n        {/*                     onClick={() => {*/}\r\n        {/*                         props.onPageChanged(p)*/}\r\n        {/*                     }}>{p}</span>*/}\r\n        {/*    })}*/}\r\n        {/*</div>*/}\r\n\r\n        <div>\r\n        {props.users.map((u) => <User followThunk={props.followThunk}\r\n                                      unfollowThunk={props.unfollowThunk}\r\n                                      followingInProgress={props.followingInProgress}\r\n                                      followed={props.followed} user={u} key={u.id}/>)\r\n\r\n        }\r\n        </div>\r\n    </div>\r\n};\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\n// вся сложная логика должна находится в селекторе, созданном через createSelector\r\n// render в этом случае не вызывается постоянно, т.к. суперселектор сначала обращается к своему кэшу и проверяет\r\n// произошли ли изменения в передаваемом объекте\r\nexport const getUsersSelectorSuper = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n});\r\n\r\n\r\nexport const getPageSizeSelector = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\nexport const getTotalUsersCountSelector = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\nexport const getCurrentPageSelector = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\nexport const getIsFetchingSelector = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\nexport const getFollowingInProgressSelector = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followThunk, getUsersThunkCreator, getUsersThunkCreatorPageChanged,\r\n    setCurrentPage, setTotalUsersCount, setUsers,\r\n    toggleFollowingProgress, toggleIsFetching, unfollowThunk\r\n} from \"../Redux/user-reducer\";\r\nimport Users from \"./Users\";\r\nimport preloader from '../../assets/images/6.gif'\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPageSelector, getFollowingInProgressSelector, getIsFetchingSelector,\r\n    getPageSizeSelector,\r\n    getTotalUsersCountSelector,\r\n    getUsersSelector, getUsersSelectorSuper\r\n} from \"../Redux/user-selectors\";\r\n\r\n// контейнерная компонента для AJAX запроса на сервер\r\nclass UsersAPIComponent extends React.Component {\r\n\r\n    //выполняется сразу после render() и сообщается, что можно делать запрос на сервер\r\n    componentDidMount() {\r\n        //перенесен в thunk\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n\r\n\r\n        // this.props.toggleIsFetching(true)\r\n        // //вынесено в api\r\n        // // axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`, {withCredentials: true})\r\n        // usersAPI.getUsers(this.props.currentPage, this.props.pageSize)\r\n        //\r\n        //     .then((data) => {\r\n        //     this.props.toggleIsFetching(false)\r\n        //     this.props.setUsers(data.items)\r\n        //     this.props.setTotalUsersCount(data.totalCount)\r\n        //\r\n        // });\r\n    }\r\n\r\n    // все методы яв-ся стрелочными ф-ми для сохранения контекста вызова\r\n    onPageChanged = (pageNumber) => {\r\n        //перенесен в thunk\r\n        this.props.getUsersThunkCreatorPageChanged(pageNumber, this.props.pageSize)\r\n\r\n        // this.props.setCurrentPage(pageNumber)\r\n        // this.props.toggleIsFetching(true)\r\n        //\r\n        // usersAPI.getUsers(pageNumber, this.props.pageSize)\r\n        // //вынесено в api\r\n        // // axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`, {withCredentials: true})\r\n        //     .then((data) => {\r\n        //     this.props.toggleIsFetching(false)\r\n        //     this.props.setUsers(data.items);\r\n        //\r\n        // });\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n\r\n        return <>\r\n\r\n            {this.props.isFetching ? <img src={preloader}/> : null}\r\n\r\n            <Users currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollowThunk={this.props.unfollowThunk}\r\n                   followThunk={this.props.followThunk}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n\r\n        </>\r\n\r\n    }\r\n\r\n};\r\n\r\n// контейнерная компонента для связи со store\r\nconst mapStateToProps = (state) => {\r\n//selectors:\r\n    return {\r\n        users: getUsersSelectorSuper(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        totalUsersCount: getTotalUsersCountSelector(state),\r\n        currentPage: getCurrentPageSelector(state),\r\n        isFetching: getIsFetchingSelector(state),\r\n        followingInProgress: getFollowingInProgressSelector(state),\r\n    }\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n\r\n};\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         // передаем callback follow в компоненту, ком-та вызывает его и передает пар-тр userid,\r\n//         // затем вызываем АС с этим же пар-ом и диспатчим этот объект в state\r\n//         follow: (userid) => {\r\n//             dispatch(followAC(userid))\r\n//         },\r\n//         unfollow: (userid) => {\r\n//             dispatch(unfollowAC(userid))\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: (pageNumber) => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: (totalCount) => {\r\n//             dispatch(setTotalUsersCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch(toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// };\r\n\r\n// let AuthRedirectContainerComponentWithState = withAuthRedirect(UsersAPIComponent)\r\n\r\n\r\n// const UsersContainer = connect(mapStateToProps, {\r\n//     // передаем callback follow в компоненту, ком-та вызывает его и передает пар-тр userid,\r\n//     // затем вызываем АС с этим же пар-ом и диспатчим этот объект в state\r\n//     followThunk,\r\n//     unfollowThunk,\r\n//     setCurrentPage,\r\n//     toggleFollowingProgress,\r\n//     toggleIsFetching,\r\n//     setUsers,\r\n//     setTotalUsersCount,\r\n//     getUsersThunkCreator,\r\n//     getUsersThunkCreatorPageChanged\r\n// })(AuthRedirectContainerComponentWithState);\r\n\r\n\r\nlet Composed = compose(\r\n    connect(mapStateToProps, {\r\n        followThunk,\r\n        unfollowThunk,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        toggleIsFetching,\r\n        setUsers,\r\n        setTotalUsersCount,\r\n        getUsersThunkCreator,\r\n        getUsersThunkCreatorPageChanged\r\n    }),\r\n    //withAuthRedirect\r\n)(UsersAPIComponent);\r\n\r\n//export default UsersContainer\r\nexport default Composed","import React from \"react\";\r\nimport classes from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport logAvatar from '../../assets/images/jedi-kenobi-obiwan.png'\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png\"\r\n                alt=\"\"/>\r\n\r\n                <div className={classes.loginBlock}>\r\n                    <div>\r\n                        {/*<img src={props.isAuth ? logAvatar : null} alt=\"\"/>*/}\r\n\r\n                        {props.isAuth ? <div>{props.login} <button onClick={props.getLogoutThunkCreator}>Logout</button></div> : <NavLink className={classes.loginBlock} to={'/login'}>Login</NavLink>}\r\n                    </div>\r\n                </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header","import {authAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n\r\n};\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n\r\n            };\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => {\r\n    return {type: SET_USER_DATA, payload: {userId, login, email, isAuth}}\r\n};\r\n\r\n//THUNKS:\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch) => {\r\n        //второй return возвращает вызов thunkcreator'а наоружу\r\n        let response = await  authAPI.getAuthUserData()\r\n\r\n            //переделано на async await\r\n            // .then(response => {\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    let {id, login, email} = response.data.data;\r\n                    dispatch(setAuthUserData(id, login, email, true))\r\n                }\r\n    }\r\n\r\nexport const getLoginThunkCreator = (email, password, rememberMe) =>\r\n\r\n    async (dispatch) => {\r\n\r\n\r\n        let response = await authAPI.getLogin(email, password, rememberMe)\r\n            // .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUserDataThunkCreator())\r\n                } else {\r\n                    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"unknown error\"\r\n\r\n                    dispatch(stopSubmit('login', {_error: message}))\r\n                }\r\n\r\n    }\r\n\r\n\r\nexport const getLogoutThunkCreator = () =>\r\n    async (dispatch) => {\r\n        let response = await authAPI.getLoginout()\r\n            // .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false))\r\n                }\r\n    }\r\n\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport * as axios from \"axios\";\r\nimport {getAuthUserDataThunkCreator, getLogoutThunkCreator, setAuthUserData} from '../Redux/auth-reducer'\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n\r\n\r\n\r\n// response.data - это метод axios\r\n//response.data.data - обращение к объекту с сервера\r\nclass HeaderContainer extends React.Component {\r\n    componentDidMount() {\r\n    //перенесен в thunk\r\n    //     this.props.getAuthUserDataThunkCreator()\r\n\r\n    //вынесено в api\r\n    //     headerAPI.getAuthUserData()\r\n    //     // axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`, {withCredentials: true})\r\n    //         .then(response => {\r\n    //\r\n    //         if (response.data.resultCode === 0) {\r\n    //             let {id, login, email} = response.data.data;\r\n    //             this.props.setAuthUserData(id, login, email)\r\n    //         }\r\n    //     })\r\n    }\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        login: state.auth.login,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {setAuthUserData, getAuthUserDataThunkCreator, getLogoutThunkCreator}) (HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utilites/validators/validators\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {getLoginThunkCreator} from \"../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from \"./../common/FormControls/FormControls.module.css\"\r\n\r\nconst LoginForm = (props) => {\r\n\r\n//все наши данные упаковываются в obj formData\r\n    //внутри handleSubmit вызывается onSubmit() и в него передается formData\r\n    return <div>\r\n\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Input} name={'email'} placeholder={'email'} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'password'} placeholder={'password'} validate={[required]} type={'password'}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'rememberMe'} type={'checkbox'}/> remember me\r\n            </div>\r\n            {/*Общий error появился путем добавления _error в stopSubmit()*/}\r\n            {props.error && <div className={classes.formSummaryError}>\r\n                {props.error}\r\n\r\n            </div>}\r\n            <div>\r\n                <button>Sign in</button>\r\n            </div>\r\n\r\n        </form>\r\n    </div>\r\n};\r\n\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n\r\n\r\n    const onSubmit = (formData) => {\r\n        props.getLoginThunkCreator(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    //этот onSubmit вызывается внутри handleSubmit в LoginForm\r\n    return <LoginReduxForm onSubmit={onSubmit}/>\r\n};\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getLoginThunkCreator, getLogoutThunkCreator} from \"../Redux/auth-reducer\";\r\nimport Login from \"./Login\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getLoginThunkCreator, getLogoutThunkCreator})(Login)","import {authAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {getAuthUserDataThunkCreator} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESSFUL= 'INITIALIZED-SUCCESSFUL';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nlet appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n\r\n            };\r\n        default:\r\n            return state;\r\n\r\n    }\r\n};\r\n\r\nexport const initializedSuccessful = () => ({type: INITIALIZED_SUCCESSFUL})\r\n\r\n\r\n//THUNKS:\r\n\r\nexport const initializeAppThunkCreator = () => (dispatch) => {\r\n        //dispatch может возвращать то, что возвращает ф-я,\r\n        //которую он вызывает\r\n        let dispatchResult = dispatch(getAuthUserDataThunkCreator());\r\n\r\n        Promise.all([dispatchResult])\r\n            .then(() => {\r\n\r\n            dispatch(initializedSuccessful())\r\n        })\r\n\r\n    }\r\n\r\nexport default appReducer","import React, {Component} from 'react';\nimport './App.css';\nimport Nav from \"./Components/Nav/Nav\";\nimport ProfileContainer from \"./Components/Profile/ProfieContainer\";\nimport News from \"./Components/News/News\";\nimport Music from \"./Components/Music/Music\";\nimport Settings from \"./Components/Settings/Settings\";\nimport {Route, withRouter} from \"react-router-dom\";\n//import DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\nimport UsersContainer from \"./Components/Users/UsersContainer\";\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\nimport LoginContainer from \"./Components/Login/LoginContainer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeAppThunkCreator} from \"./Components/Redux/app-reducer\";\nimport preloader from \"./assets/images/6.gif\";\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        //this.props.getAuthUserDataThunkCreator()\n        this.props.initializeAppThunkCreator()\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <img src={preloader} />\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n\n                <div className='app-wrapper-content'>\n                    <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\n                    {/*<Route path='/dialogs' render={() => <DialogsContainer/>}/>*/}\n\n                    <Route path='/dialogs' render={() =>\n                        <React.Suspense fallback={<div>Loading...</div>}>\n                        <DialogsContainer />\n                    </React.Suspense>}/>\n\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <LoginContainer/>}/>\n\n\n                </div>\n\n                <Nav/>\n            </div>\n\n        );\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        initialized: state.app.initialized\n    }\n}\n\nlet Composed = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeAppThunkCreator,})\n)(App);\n\nexport default Composed\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","\r\nlet initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state\r\n};\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport messageReducer from \"./message-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./user-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet benchOfReducers = combineReducers({\r\n    //методы этого объекта это свойства state\r\n    ProfilePage: profileReducer,\r\n    MessagesPage: messageReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n// 1.chrome extensions:\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(benchOfReducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//2.original:\r\n//const store = createStore(benchOfReducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store\r\n","import React from \"react\";\nimport \"./index.css\";\nimport ReactDOM from \"react-dom\"\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\nimport store from \"./Components/Redux/redux-store\";\nimport './index.css';\nimport {Provider} from \"react-redux\";\n\n///\n// setInterval(() => {\n//     store.dispatch({type: 'fake'})\n// }, 1000)\n///\n\n\n//по умолчанию\n// ReactDOM.render(\n//     <BrowserRouter>\n//         <Provider store={store}>\n//             <App/>\n//         </Provider>\n//     </BrowserRouter>, document.getElementById('root'));\n\n//для github pages\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </HashRouter>, document.getElementById('root'));\n\nwindow.store = store;\n\n\n// store.subscribe(renderEntireTree);\n\n\n\n// store.subscribe(() => {\n//     let state = store.getState();\n//     renderEntireTree(state)\n// });\n// renderEntireTree(state.getState());\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__1hDO9\",\"item\":\"ProfileInfo_item__1NEDb\",\"mainPhoto\":\"ProfileInfo_mainPhoto__3qB9b\",\"contacs\":\"ProfileInfo_contacs__1lf_R\",\"formSummaryError\":\"ProfileInfo_formSummaryError__1aUb6\"};","export const required = (value) => {\r\n    if (value) return undefined\r\n\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength)=> {\r\n    return (value) => {\r\n        if(value.length > maxLength) {\r\n            return `Max length is ${maxLength} symbols`\r\n        }\r\n        return undefined\r\n    }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/6.910df377.gif\";","module.exports = __webpack_public_path__ + \"static/media/user-icon.ae6dd9fd.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__1YHpi\",\"error\":\"FormControls_error__299ad\",\"formSummaryError\":\"FormControls_formSummaryError__2oWa6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__1Hi0I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3Bl6B\",\"pageNums\":\"Paginator_pageNums__3d0cO\",\"paginator\":\"Paginator_paginator__2Obgr\",\"pageNumber\":\"Paginator_pageNumber__cnxLD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2pkoi\",\"loginBlock\":\"Header_loginBlock__2nfUB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__2C3gv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1YUsx\",\"mes\":\"MyPosts_mes__zDcsr\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\n//принимает на вход компоненту, обертывыет в контейнерную комп-ту и возвращает эту конт. комп-ту\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    let AuthRedirectContainerComponent = (props) => {\r\n        if (!props.isAuth) {return <Redirect to={'/login'}/>}\r\n        return <Component {...props}/>\r\n    };\r\n    let AuthRedirectContainerComponentWithState = connect(mapStateToPropsForRedirect) (AuthRedirectContainerComponent);\r\n\r\n    return AuthRedirectContainerComponentWithState\r\n};\r\n\r\n\r\n"],"sourceRoot":""}