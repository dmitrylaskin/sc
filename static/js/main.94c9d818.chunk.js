(this["webpackJsonpreact-kam-1"]=this["webpackJsonpreact-kam-1"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(36),r=n(9),o={MessagesData:[{id:1,text:"Hello!"},{id:2,text:"How your learning!"},{id:3,text:"Yo!"}],newMessageText:"Message default :D",DialogsData:[{id:1,name:"Dima"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Valera"},{id:5,name:"Misha"},{id:6,name:"Katya"}]},u=function(e){return{type:"SEND-MESSAGE",body:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if("SEND-MESSAGE"===t.type){var n={id:4,text:t.body};return Object(r.a)({},e,{newMessageText:"",MessagesData:[].concat(Object(a.a)(e.MessagesData),[n])})}return e}},137:function(e,t,n){e.exports={item:"Post_item__1HiMt"}},14:function(e,t,n){e.exports={nav:"Nav_nav__3P-y8",item:"Nav_item__RNuav",activeLink:"Nav_activeLink__23ac6"}},168:function(e,t,n){e.exports=n(297)},173:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t){e.exports="data:image/png;base64,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"},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=(n(101),n(63)),u=n.n(o),s=n(22),i=n(23),c=n(25),l=n(24),f=n(26),m=(n(173),n(14)),p=n.n(m),g=n(11),d=function(){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:"".concat(p.a.item," ").concat(p.a.active)},r.a.createElement(g.b,{to:"/profile",activeClassName:p.a.activeLink},"Profile")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/dialogs",activeClassName:p.a.activeLink},"Messages")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/users",activeClassName:p.a.activeLink},"Users")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/news",activeClassName:p.a.activeLink},"News")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/music",activeClassName:p.a.activeLink},"Music")),r.a.createElement("div",{className:p.a.item},r.a.createElement(g.b,{to:"/settings",activeClassName:p.a.activeLink},"Settings")))},h=(n(102),n(94)),E=n.n(h),v=n(40),b=n.n(v),C=n(67),w=n.n(C),P=(r.a.Component,n(54)),O=function(e){var t=Object(a.useState)(!1),n=Object(P.a)(t,2),o=n[0],u=n[1],s=Object(a.useState)(e.status),i=Object(P.a)(s,2),c=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){u(!0)},className:w.a.status},e.status||"ERROR :(")),o&&r.a.createElement("div",null,r.a.createElement("input",{onBlur:function(){u(!1),e.updateUserStatusThunkCreator(c)},onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,value:c})))},j=function(e){return e.profile?r.a.createElement("div",{className:E.a.item},r.a.createElement("div",{className:E.a.description},r.a.createElement("img",{src:e.profile.photos.large}),r.a.createElement(O,{status:e.status,updateUserStatusThunkCreator:e.updateUserStatusThunkCreator}),r.a.createElement("div",null,"Description:"),r.a.createElement("div",null,"About Me: "+e.profile.aboutMe),r.a.createElement("div",null,"Full name: "+e.profile.fullName))):r.a.createElement("img",{src:b.a})},k=n(8),S=n.n(k),A=n(18),T=n(36),x=n(9),y=n(64).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5cf4903e-57bb-48e6-bfa5-8d21e3653b58"}}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return y.get("users?page=".concat(e,"&count=").concat(t),{}).then((function(e){return e.data}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return y.delete("follow/".concat(e),{})},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return y.post("follow/".concat(e),{},{})},L=function(e){return y.get("profile/".concat(e))},D=function(e){return y.get("profile/status/".concat(e))},U=function(e){return y.put("profile/status",{status:e})},R=function(){return y.get("auth/me")},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y.post("auth/login",{email:e,password:t,rememberMe:n})},M=function(){return y.delete("auth/login")},G={PostsData:[{id:1,text:"Its my first post",likes:24},{id:2,text:"Hello, hi are you?",likes:3},{id:3,text:"Yo!",likes:3}],newPostText:"default :)",profile:null,status:""},z=function(e){return{type:"SET-USER-PROFILE",profile:e}},H=function(e){return{type:"SET-USER-STATUS",status:e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:4,text:t.body,likes:80};return Object(x.a)({},e,{PostsData:[].concat(Object(T.a)(e.PostsData),[n]),newPostText:""});case"SET-USER-PROFILE":return Object(x.a)({},e,{profile:t.profile});case"SET-USER-STATUS":return Object(x.a)({},e,{status:t.status});case"DELELTE_POST":return Object(x.a)({},e,{PostsData:e.PostsData.filter((function(e){return e.id!=t.postId}))});default:return e}},K=n(95),V=n.n(K),J=n(137),W=n.n(J),Y=function(e){return r.a.createElement("div",{className:W.a.item},r.a.createElement("img",{src:"https://icons.iconarchive.com/icons/diversity-avatars/avatars/256/batman-icon.png",alt:""}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"like"))," ",e.likes)},q=n(133),X=n(134),Z=n(41),_=n(42),$=Object(Z.a)(10),ee=Object(X.a)({form:"AddPostForm"})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(q.a,{component:_.b,name:"newPostText",placeholder:"default -_- from redux-form",validate:[Z.b,$]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post"))))})),te=function(e){var t=e.PostsData.map((function(e){return r.a.createElement(Y,{message:e.text,likes:e.likes})}));r.a.createRef();return r.a.createElement("div",{className:V.a.posts},r.a.createElement("h3",null,"My Posts"),r.a.createElement(ee,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",null,"New Post"),r.a.createElement("div",{className:V.a.mes},t))},ne=n(10),ae=Object(ne.b)((function(e){return{PostsData:e.ProfilePage.PostsData,newPostText:e.ProfilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",body:e}}(t))},updateNewPostText:function(t){e(function(e){return{type:"UPDATE-NEW-POST-TEXT",newText:e}}(t))}}}))(te),re=function(e){return r.a.createElement("div",null,r.a.createElement(j,{profile:e.profile,status:e.status,updateUserStatusThunkCreator:e.updateUserStatusThunkCreator}),r.a.createElement(ae,null))},oe=n(28),ue=(n(99),n(6)),se=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserId)||this.props.history.push("/login"),this.props.getUserProfileThunkCreator(e),this.props.getUserStatusThunkCreator(e)}},{key:"render",value:function(){return r.a.createElement(re,Object.assign({},this.props,{profile:this.props.profile,updateUserStatusThunkCreator:this.props.updateUserStatusThunkCreator}))}}]),t}(r.a.Component),ie=Object(ue.d)(Object(ne.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,authorisedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:z,getUserProfileThunkCreator:function(e){return function(){var t=Object(A.a)(S.a.mark((function t(n){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:a=t.sent,n(z(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateUserStatusThunkCreator:function(e){return function(){var t=Object(A.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:0===t.sent.data.resultCode&&n(H(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatusThunkCreator:function(e){return function(){var t=Object(A.a)(S.a.mark((function t(n){var a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:a=t.sent,n(H(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),oe.f)(se),ce=(n(293),function(){return r.a.createElement("div",null,"News")}),le=(n(294),function(){return r.a.createElement("div",null,"Music")}),fe=(n(295),function(){return r.a.createElement("div",null,"Settings")}),me={users:[],pageSize:5,totalUsersCount:21,currentPage:1,isFetching:!0,followingInProgress:[],fake:"fake"},pe=function(e){return{type:"SET-USERS",users:e}},ge=function(e){return{type:"SET-CURRENT-PAGE",page:e}},de=function(e){return{type:"TOTAL-USERS-COUNT",count:e}},he=function(e){return{type:"TOGGLE-IS-FETCHING ",toggle:e}},Ee=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",statusProgress:e,userId:t}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(x.a)({},e,{users:e.users.map((function(e){return e.id===t.userid?Object(x.a)({},e,{followed:!0}):e}))});case"UNFOLLW":return Object(x.a)({},e,{users:e.users.map((function(e){return e.id===t.userid?Object(x.a)({},e,{followed:!1}):e}))});case"SET-USERS":return Object(x.a)({},e,{users:Object(T.a)(t.users)});case"SET-CURRENT-PAGE":return Object(x.a)({},e,{currentPage:t.page});case"TOTAL-USERS-COUNT":return Object(x.a)({},e,{totalUsersCount:t.count});case"TOGGLE-IS-FETCHING ":return Object(x.a)({},e,{isFetching:t.toggle});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(x.a)({},e,{followingInProgress:t.statusProgress?[].concat(Object(T.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},be=n(91),Ce=n.n(be),we=n(92),Pe=n.n(we),Oe=n(68),je=n(73),ke=n.n(je),Se=n(140),Ae=n.n(Se),Te=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=Math.ceil(t/10),o=Object(a.useState)(1),u=Object(P.a)(o,2),s=u[0],i=u[1],c=10*(s-1)+1,l=10*s,f=Math.ceil(e.totalItemsCount/e.pageSize),m=[],p=1;p<=f;p++)m.push(p);return r.a.createElement("div",{className:ke.a.paginator},s>1&&r.a.createElement("button",{onClick:function(){i(s-1)}},"PREV"),m.filter((function(e){return e>=c&&e<=l})).map((function(t){return r.a.createElement("span",{className:Ae()(Object(Oe.a)({},ke.a.selectedPage,e.currentPage===t),ke.a.pageNumber),key:t,onClick:function(n){e.onPageChanged(t)}},t)})),n>s&&r.a.createElement("button",{onClick:function(){i(s+1)}},"NEXT"))},xe=function(e){return r.a.createElement("div",{key:e.user.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(g.b,{to:"/profile/"+e.user.id},r.a.createElement("img",{className:Ce.a.usersPhoto,src:null!=e.user.photos.small?e.user.photos.small:Pe.a,alt:""}))),r.a.createElement("div",null,e.user.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollowThunk(e.user.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.followThunk(e.user.id)}},"Follow")),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,e.user.name),r.a.createElement("div",null,e.user.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city")))))},ye=function(e){return r.a.createElement("div",null,r.a.createElement(Te,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement(xe,{followThunk:e.followThunk,unfollowThunk:e.unfollowThunk,followingInProgress:e.followingInProgress,followed:e.followed,user:t,key:t.id})}))))},Ie=n(141),Ne=Object(Ie.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Be=function(e){return e.usersPage.pageSize},Le=function(e){return e.usersPage.totalUsersCount},De=function(e){return e.usersPage.currentPage},Ue=function(e){return e.usersPage.isFetching},Re=function(e){return e.usersPage.followingInProgress},Fe=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsersThunkCreatorPageChanged(e,n.props.pageSize)},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement("img",{src:b.a}):null,r.a.createElement(ye,{currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollowThunk:this.props.unfollowThunk,followThunk:this.props.followThunk,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component),Me=Object(ue.d)(Object(ne.b)((function(e){return{users:Ne(e),pageSize:Be(e),totalUsersCount:Le(e),currentPage:De(e),isFetching:Ue(e),followingInProgress:Re(e)}}),{followThunk:function(e){return function(){var t=Object(A.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ee(!0,e)),t.next=3,B(e);case 3:0==t.sent.data.resultCode&&n({type:"FOLLOW",userid:e}),n(Ee(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(A.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ee(!0,e)),t.next=3,N(e);case 3:0==t.sent.data.resultCode&&n({type:"UNFOLLW",userid:e}),n(Ee(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:ge,toggleFollowingProgress:Ee,toggleIsFetching:he,setUsers:pe,setTotalUsersCount:de,getUsersThunkCreator:function(e,t){return function(){var n=Object(A.a)(S.a.mark((function n(a){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(he(!0)),n.next=3,I(e,t);case 3:r=n.sent,a(he(!1)),a(pe(r.items)),a(de(r.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsersThunkCreatorPageChanged:function(e,t){return function(){var n=Object(A.a)(S.a.mark((function n(a){var r;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ge(e)),a(he(!0)),n.next=4,I(e,t);case 4:r=n.sent,a(he(!1)),a(pe(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Fe),Ge=n(74),ze=n.n(Ge),He=(n(296),function(e){return r.a.createElement("header",{className:ze.a.header},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png",alt:""}),r.a.createElement("div",{className:ze.a.loginBlock},r.a.createElement("div",null,e.isAuth?r.a.createElement("div",null,e.login," ",r.a.createElement("button",{onClick:e.getLogoutThunkCreator},"Logout")):r.a.createElement(g.b,{className:ze.a.loginBlock,to:"/login"},"Login"))))}),Qe=n(38),Ke={userId:null,login:null,email:null,isAuth:!1},Ve=function(e,t,n,a){return{type:"SET-USER-DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},Je=function(){return function(){var e=Object(A.a)(S.a.mark((function e(t){var n,a,r,o,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,u=a.email,t(Ve(r,o,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},We=function(){return function(){var e=Object(A.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:0===e.sent.data.resultCode&&t(Ve(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(x.a)({},e,{},t.payload);default:return e}},qe=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(He,this.props)}}]),t}(r.a.Component),Xe=Object(ne.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{setAuthUserData:Ve,getAuthUserDataThunkCreator:Je,getLogoutThunkCreator:We})(qe),Ze=n(51),_e=n.n(Ze),$e=Object(X.a)({form:"login"})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(q.a,{component:_.a,name:"email",placeholder:"email",validate:[Z.b]})),r.a.createElement("div",null,r.a.createElement(q.a,{component:_.a,name:"password",placeholder:"password",validate:[Z.b],type:"password"})),r.a.createElement("div",null,r.a.createElement(q.a,{component:_.a,name:"rememberMe",type:"checkbox"})," remember me"),e.error&&r.a.createElement("div",{className:_e.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Sign in"))))})),et=function(e){return e.isAuth?r.a.createElement(oe.a,{to:"/profile"}):r.a.createElement($e,{onSubmit:function(t){e.getLoginThunkCreator(t.email,t.password,t.rememberMe)}})},tt=Object(ne.b)((function(e){return{isAuth:e.auth.isAuth}}),{getLoginThunkCreator:function(e,t,n){return function(){var a=Object(A.a)(S.a.mark((function a(r){var o,u;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(Je()):(u=o.data.messages.length>0?o.data.messages[0]:"unknown error",r(Object(Qe.a)("login",{_error:u})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getLogoutThunkCreator:We})(et),nt={initialized:!1},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESSFUL":return Object(x.a)({},e,{initialized:!0});default:return e}},rt=r.a.lazy((function(){return n.e(3).then(n.bind(null,299))})),ot=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeAppThunkCreator()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Xe,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(oe.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ie,null)}}),r.a.createElement(oe.b,{path:"/dialogs",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(rt,null))}}),r.a.createElement(oe.b,{path:"/news",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(oe.b,{path:"/music",render:function(){return r.a.createElement(le,null)}}),r.a.createElement(oe.b,{path:"/users",render:function(){return r.a.createElement(Me,null)}}),r.a.createElement(oe.b,{path:"/settings",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(oe.b,{path:"/login",render:function(){return r.a.createElement(tt,null)}})),r.a.createElement(d,null)):r.a.createElement("img",{src:b.a})}}]),t}(r.a.Component),ut=Object(ue.d)(oe.f,Object(ne.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunkCreator:function(){return function(e){var t=e(Je());Promise.all([t]).then((function(){e({type:"INITIALIZED-SUCCESSFUL"})}))}}}))(ot);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var st=n(132),it={},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it;arguments.length>1&&arguments[1];return e},lt=n(142),ft=n(135),mt=Object(ue.c)({ProfilePage:Q,MessagesPage:st.b,sidebar:ct,usersPage:ve,auth:Ye,form:ft.a,app:at}),pt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ue.d,gt=Object(ue.e)(mt,pt(Object(ue.a)(lt.a)));u.a.render(r.a.createElement(g.a,null,r.a.createElement(ne.a,{store:gt},r.a.createElement(ut,null))),document.getElementById("root")),window.store=gt,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},40:function(e,t,n){e.exports=n.p+"static/media/6.910df377.gif"},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},42:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n(71),r=n(0),o=n.n(r),u=n(51),s=n.n(u),i=function(e){e.input;var t=e.meta,n=Object(a.a)(e,["input","meta"]),r=t.touched&&t.error;return o.a.createElement("div",{className:s.a.formControls+" "+(r?s.a.error:"")},o.a.createElement("div",null,n.children),r&&o.a.createElement("span",null,t.error))},c=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return o.a.createElement(i,e,o.a.createElement("textarea",Object.assign({},t,n)))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return o.a.createElement(i,e,o.a.createElement("input",Object.assign({},t,n)))}},51:function(e,t,n){e.exports={formControls:"FormControls_formControls__1YHpi",error:"FormControls_error__299ad",formSummaryError:"FormControls_formSummaryError__2oWa6"}},67:function(e,t,n){e.exports={status:"ProfileStatus_status__1Hi0I"}},73:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__3Bl6B",pageNums:"Paginator_pageNums__3d0cO",paginator:"Paginator_paginator__2Obgr",pageNumber:"Paginator_pageNumber__cnxLD"}},74:function(e,t,n){e.exports={header:"Header_header__2pkoi",loginBlock:"Header_loginBlock__2nfUB"}},91:function(e,t,n){e.exports={usersPhoto:"Users_usersPhoto__2C3gv"}},92:function(e,t,n){e.exports=n.p+"static/media/user-icon.ae6dd9fd.png"},94:function(e,t,n){e.exports={description:"ProfileInfo_description__1hDO9",item:"ProfileInfo_item__1NEDb"}},95:function(e,t,n){e.exports={posts:"MyPosts_posts__1YUsx",mes:"MyPosts_mes__zDcsr"}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(28),u=n(10),s=function(e){return{isAuth:e.auth.isAuth}},i=function(e){return Object(u.b)(s)((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(o.a,{to:"/login"})}))}}},[[168,1,2]]]);
//# sourceMappingURL=main.94c9d818.chunk.js.map