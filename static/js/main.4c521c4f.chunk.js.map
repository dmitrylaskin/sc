{"version":3,"sources":["Components/Redux/message-reducer.ts","Components/Profile/ProfileStatus/ProfileStatus.module.css","assets/images/likev1.png","assets/images/page-not-found.png","Components/Nav/Nav.module.css","Components/common/FormControls/FormControls.jsx","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Hoc/withAuthRedirect.js","Components/Nav/Nav.jsx","Components/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","Components/Profile/ProfileInfo/ProfileDataForm.jsx","Components/Profile/ProfileInfo/ProfileInfo.jsx","api/api.js","Components/Redux/profile-reducer.ts","Components/Profile/MyPosts/Post/Post.jsx","Components/Profile/MyPosts/MyPosts.jsx","Components/Profile/MyPosts/MyPostsContainer.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfieContainer.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","Components/Redux/user-reducer.ts","Components/common/Paginator/Paginator.tsx","Components/Users/User.jsx","Components/Users/Users.tsx","Components/Redux/user-selectors.ts","Components/Users/UsersContainer.tsx","Components/Header/Header.jsx","Components/Redux/auth-reducer.ts","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","Components/Login/LoginContainer.jsx","Components/Redux/app-reducer.ts","App.js","serviceWorker.js","Components/Redux/sidebar-reducer.js","Components/Redux/redux-store.ts","index.js","Components/common/FormControls/FormControls.module.css","utilites/validators/validators.js","Components/Users/Users.module.css","assets/images/6.gif","assets/images/user-icon.png","Components/Profile/MyPosts/MyPosts.module.css","Components/Header/Header.module.css","Components/Profile/MyPosts/Post/Post.module.css","Components/common/Paginator/Paginator.module.css"],"names":["initialState","MessagesData","id","text","DialogsData","name","addMessage","newMessageText","type","body","messageReducer","state","action","newMessage","module","exports","FormController","input","meta","props","hasError","touched","error","className","classes","formControls","children","Textarea","restProps","Input","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","connect","to","Nav","nav","item","active","activeClassName","activeLink","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","isOwner","onBlur","updateUserStatusThunkCreator","onChange","event","currentTarget","value","autoFocus","ProfileDataFormReduxForm","reduxForm","form","onSubmit","handleSubmit","button","formSummaryError","Field","component","placeholder","validate","Object","keys","profile","contacts","map","key","contacs","Contact","contactKey","contactValue","ProfileData","onClick","goEditMode","aboutMe","fullName","lookingForAJob","lookingForAJobDescription","ProfileInfo","src","preloader","description","mainPhoto","photos","large","userPhoto","target","files","length","saveProfile","initialValues","formData","then","instance","axios","baseURL","withCredentials","headers","usersAPI","currentPage","pageSize","get","response","data","delete","post","profileAPI","userId","put","file","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","ADD_POST","PostsData","likes","setUserProfile","setUserStatus","getUserProfileThunkCreator","dispatch","a","profileReducer","newPost","filter","p","postId","photoFile","Post","small","alt","textMessage","message","like","likePic","maxLength","maxLengthCreator","AddPostReduxForm","box","MyPosts","PostObj","posts","addPost","newPostText","reset","mes","MyPostsContainer","ProfilePage","Profile","savePhoto","ProfileContainer","this","match","params","authorisedUserId","history","push","getUserStatusThunkCreator","refreshProfile","prevProps","prevState","snapshot","saveProfileThunkCreator","esavePhoto","savePhotoThunkCreator","React","Composed","compose","resultCode","userid","getState","stopSubmit","_error","messages","Promise","reject","withRouter","FOLLOW","users","totalUsersCount","isFetching","followingInProgress","setUsers","toggleIsFetching","toggle","toggleFollowingProgress","statusProgress","usersReducer","followed","page","count","Paginator","pagesCount","Math","ceil","totalItemsCount","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pageCount","pages","i","paginator","cn","selectedPage","pageNumber","e","onPageChanged","User","userIcons","user","usersPhoto","disabled","some","unfollowThunk","followThunk","Users","usersIcons","u","getUsersSelectorSuper","createSelector","usersPage","getPageSizeSelector","getTotalUsersCountSelector","getCurrentPageSelector","getIsFetchingSelector","getFollowingInProgressSelector","UsersAPIComponent","getUsersThunkCreatorPageChanged","getUsersThunkCreator","pageTitle","items","totalCount","Header","header","loginBlock","login","getLogoutThunkCreator","captchaUrl","setAuthUserData","payload","getCaptchaSuccessful","getAuthUserDataThunkCreator","getCaptchaUrlThunkCreator","url","authReducer","HeaderContainer","LoginReduxForm","loginForm","formInputs","required","submitButton","Login","getLoginThunkCreator","initialized","appReducer","DialogsContainer","lazy","App","promise","alert","console","initializeAppThunkCreator","window","addEventListener","catchAllUnhandledErrors","removeEventListener","exact","path","render","Suspense","fallback","UsersContainer","LoginContainer","pic404","app","dispatchResult","all","Boolean","location","hostname","sidebarReducer","rootReducer","combineReducers","MessagesPage","sidebar","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.4c521c4f.chunk.js","sourcesContent":["let SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\ntype message = {id: number, text: string}\r\ntype dialogItem = {id: number, name: string}\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nlet initialState = {\r\n    MessagesData: [\r\n        {id: 1, text: 'Hello!'},\r\n        {id: 2, text: 'How your learning!'},\r\n        {id: 3, text: 'Yo!'}\r\n    ] as Array<message>,\r\n\r\n    DialogsData: [\r\n        {id: 1, name: 'Dima'},\r\n        {id: 2, name: 'Andrey'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Valera'},\r\n        {id: 5, name: 'Misha'},\r\n        {id: 6, name: 'Katya'}\r\n    ] as Array<dialogItem>\r\n};\r\n\r\n\r\nconst messageReducer = (state = initialState, action: any):initialStateType  => {\r\n\r\n    if (action.type === SEND_MESSAGE) {\r\n        let newMessage = {\r\n            id: 4,\r\n            text: action.body\r\n        };\r\n        return  {...state,\r\n            MessagesData: [...state.MessagesData, newMessage]};\r\n\r\n    } else return state\r\n};\r\n\r\n\r\ntype addMessageType = {type: typeof SEND_MESSAGE, body: string}\r\nexport const addMessage = (newMessageText: string): addMessageType => ({type: SEND_MESSAGE, body: newMessageText});\r\n\r\nexport default messageReducer\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__3N6Vz\"};","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/page-not-found.6ef9f043.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__15q2J\",\"item\":\"Nav_item__1m-4Q\",\"activeLink\":\"Nav_activeLink__3oZOT\"};","import React from \"react\";\r\nimport classes from \"./FormControls.module.css\"\r\n\r\n\r\nexport const FormController = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (<div className={classes.formControls + \" \" + (hasError ? classes.error : \"\")}>\r\n\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        {hasError && <span>{meta.error}</span>}\r\n\r\n    </div>)\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const {input, meta, ...restProps} = props\r\n\r\n    return <FormController {...props}><textarea {...input} {...restProps}/></FormController>\r\n\r\n\r\n\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const {input, meta, ...restProps} = props\r\n\r\n    return <FormController {...props}><input {...input} {...restProps}/></FormController>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__2FzJE\",\"item\":\"ProfileInfo_item__2sf6E\",\"mainPhoto\":\"ProfileInfo_mainPhoto__1WQ6_\",\"contacts\":\"ProfileInfo_contacts__2Pbef\",\"formSummaryError\":\"ProfileInfo_formSummaryError__GFBF_\",\"button\":\"ProfileInfo_button__7aFuD\"};","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\n//принимает на вход компоненту, обертывыет в контейнерную комп-ту и возвращает эту конт. комп-ту\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    let AuthRedirectContainerComponent = (props) => {\r\n        if (!props.isAuth) {return <Redirect to={'/login'}/>}\r\n        return <Component {...props}/>\r\n    };\r\n    let AuthRedirectContainerComponentWithState = connect(mapStateToPropsForRedirect) (AuthRedirectContainerComponent);\r\n\r\n    return AuthRedirectContainerComponentWithState\r\n};\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div className={`${classes.item} ${classes.active}`}>\r\n                <NavLink to='/profile' activeClassName={classes.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/dialogs' activeClassName={classes.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/users' activeClassName={classes.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/news' activeClassName={classes.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/music' activeClassName={classes.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to='/settings' activeClassName={classes.activeLink}>Settings</NavLink>\r\n            </div>\r\n\r\n        </nav>\r\n    )\r\n}\r\nexport default Nav","import React, {useEffect, useState} from \"react\";\r\nimport classes from './ProfileStatus.module.css'\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deActivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateUserStatusThunkCreator(status)\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.currentTarget.value)\r\n    }\r\n\r\n\r\n        return (\r\n            <div>\r\n\r\n                {!editMode &&\r\n                <div>\r\n                    <span onDoubleClick={props.isOwner ? activateEditMode : null} className={classes.status} >\r\n                        {props.status || 'no status'}\r\n                    </span>\r\n                </div>}\r\n\r\n                {editMode &&\r\n                <div>\r\n                    <input onBlur={deActivateEditMode} onChange={onStatusChange} autoFocus={true} value={status}/>\r\n                </div>}\r\n\r\n            </div>\r\n        )\r\n\r\n}\r\n\r\nexport default ProfileStatusWithHooks","import React from \"react\";\r\nimport {Input, Textarea} from \"../../common/FormControls/FormControls\";\r\nimport {required} from \"../../../utilites/validators/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport classes from \"./ProfileInfo.module.css\"\r\n\r\n\r\nlet ProfileDataForm = (props) => {\r\n    return (<form onSubmit={props.handleSubmit}>\r\n        {<div><button className={classes.button}>save</button></div>}\r\n\r\n        {props.error && <div className={classes.formSummaryError}>\r\n            {props.error}\r\n\r\n        </div>}\r\n\r\n        <h3>Profile info: </h3>\r\n\r\n        <div><b>About Me:</b> {\r\n            <Field component={Input} name={'aboutMe'} placeholder={'about me'} validate={[]}/>\r\n        }</div>\r\n\r\n        <div><b>Full name:</b> {\r\n            <Field component={Input} name={'fullName'} placeholder={'name'} validate={[]}/>\r\n        }</div>\r\n\r\n        <div><b>Looking for a job: </b>\r\n        <Field type={'checkbox'} component={Input} name={'lookingForAJob'} placeholder={''} validate={[]}/>\r\n        </div>\r\n\r\n        <div><b>My professional skills: </b>\r\n            <Field component={Textarea} name={'lookingForAJobDescription'} placeholder={''} validate={[]}/>\r\n        </div>\r\n\r\n        <div><h4>Contacts:</h4> {Object.keys(props.profile.contacts).map(key => {\r\n            return <div key={key} className={classes.contacs}>\r\n                <b>{key}:{<Field component={Textarea} name={'contacts.' + key} placeholder={key} validate={[]}/>} </b>\r\n                </div>\r\n\r\n        })}</div>\r\n\r\n    </form>)\r\n}\r\nlet ProfileDataFormReduxForm = reduxForm({form: 'edit-profile'}) (ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm","import React, {useState} from \"react\";\r\nimport classes from './ProfileInfo.module.css'\r\nimport preloader from '../../../assets/images/6.gif'\r\nimport ProfileStatusWithHooks from \"../ProfileStatus/ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/user-icon.png\"\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if(!props.profile) {\r\n        return <img src={preloader}/>\r\n        // return <preloader/>\r\n    }\r\n    const onMainPhotoSelected = (event) => {\r\n        if (event.target.files.length) {\r\n            props.saveProfile(event.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData) => {\r\n        props.saveProfile(formData)\r\n            .then(() => {\r\n                setEditMode(false)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className={classes.item}>\r\n\r\n            <div className={classes.description}>\r\n\r\n                <img className={classes.mainPhoto} src={props.profile.photos.large || userPhoto}/>\r\n\r\n                <div>\r\n                    {props.isOwner &&\r\n                    <input type={\"file\"} onChange={onMainPhotoSelected}/>}\r\n                </div>\r\n\r\n                <b>Status:</b> <ProfileStatusWithHooks isOwner={props.isOwner} status={props.status} updateUserStatusThunkCreator={props.updateUserStatusThunkCreator}/>\r\n\r\n                {editMode ? <ProfileDataForm initialValues={props.profile} onSubmit={onSubmit} {...props}/> : <ProfileData {...props} goEditMode={()=> {setEditMode(true)}} isOwner={props.isOwner}/>}\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet Contact = ({contactKey, contactValue}) => {\r\n    return <div className={classes.contacts}><b>{contactKey}</b>: {contactValue}</div>\r\n\r\n}\r\nlet ProfileData = (props) => {\r\n    return (<div>\r\n        {props.isOwner && <div><button className={classes.button} onClick={props.goEditMode}>edit</button></div>}\r\n\r\n\r\n        <h3>Profile info: </h3>\r\n        <div><b>About Me:</b> {props.profile.aboutMe}</div>\r\n        <div><b>Full name:</b> {props.profile.fullName}</div>\r\n        <div><b>Looking for a job: </b>{props.profile.lookingForAJob ? \"yes\" : \"no\"}</div>\r\n        <div><b>My professional skills: </b> {props.profile.lookingForAJobDescription}</div>\r\n        <div><h4>Contacts:</h4> {Object.keys(props.profile.contacts).map(key => {\r\n            return <Contact key={key} contactKey={key} contactValue={props.profile.contacts[key]}/>\r\n        })}</div>\r\n\r\n    </div>)\r\n}\r\n\r\nexport default ProfileInfo","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {'API-KEY': '5cf4903e-57bb-48e6-bfa5-8d21e3653b58'}\r\n\r\n});\r\n//метод instance.get возвращает промис\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`, {\r\n\r\n        })\r\n            .then(response => {\r\n\r\n                return  response.data\r\n            })\r\n    },\r\n    getFollow(id = 2) {\r\n        return instance.delete(`follow/${id}`, {\r\n\r\n        })\r\n\r\n    },\r\n    getUnfollow(id = 2) {\r\n        return instance.post(`follow/${id}`, {}, {\r\n      })\r\n\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    getUpdateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    getPhoto(file) {\r\n        const formData = new FormData();\r\n        formData.append('image', file)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuthUserData() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    getLogin(email, password, rememberMe=false, captcha=null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    getLoginout() {\r\n        return instance.delete(`auth/login` )\r\n    }\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n\r\n        return instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n","import {profileAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {photosType, postType, profileType} from \"../../Types/types\";\r\n\r\nlet ADD_POST = 'profile/ADD-POST';\r\nlet SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nlet SET_USER_STATUS = 'profile/SET-USER-STATUS';\r\nlet DELETE_POST = 'profile/DELETE-POST';\r\nlet PHOTO_IS_SAVED = 'profile/PHOTO-IS-SAVED';\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n    PostsData: [\r\n        {id: 1, text: 'Its my first post', likes: 24},\r\n        {id: 2, text: 'Hello, hi are you?', likes: 3},\r\n        {id: 3, text: 'Yo!', likes: 3}\r\n    ] as Array<postType>,\r\n    profile: null as profileType | null,\r\n    status: ''\r\n};\r\ntype initialStateType = typeof initialState\r\n\r\nconst profileReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 4,\r\n                text: action.body,\r\n                likes: 80\r\n            };\r\n            return {\r\n                ...state,\r\n                PostsData: [newPost, ...state.PostsData,],\r\n\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_USER_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state,\r\n                PostsData: state.PostsData.filter(p => p.id != action.postId)\r\n            }\r\n        }\r\n        case PHOTO_IS_SAVED: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photoFile } as profileType //temp. solution\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\ntype addPostType = {type: typeof ADD_POST, body: string}\r\ntype setUserProfileType = {type: typeof SET_USER_PROFILE, profile: profileType}\r\ntype setUserStatusType = {type: typeof SET_USER_STATUS, status: string}\r\ntype savePhotoSuccessfulType = {type: typeof PHOTO_IS_SAVED, photoFile: photosType}\r\n\r\n\r\nexport const addPost = (newPostText: string): addPostType => ({type: ADD_POST, body: newPostText});\r\nexport const setUserProfile = (profile: profileType): setUserProfileType => ({type: SET_USER_PROFILE, profile: profile});\r\nexport const setUserStatus = (status: string): setUserStatusType => ({type: SET_USER_STATUS, status: status});\r\nexport const deletePost = (postId: number) => ({type: DELETE_POST, postId})\r\nexport const savePhotoSuccessful = (photoFile: photosType): savePhotoSuccessfulType => ({type: PHOTO_IS_SAVED, photoFile})\r\n\r\n//THUNKS:\r\n\r\nexport const getUserProfileThunkCreator = (userId: number) =>\r\n    async (dispatch: any) => {\r\n\r\n        let response = await profileAPI.getUserProfile(userId)\r\n                dispatch(setUserProfile(response.data))\r\n\r\n    }\r\n\r\nexport const getUserStatusThunkCreator = (userid: number) =>\r\n    async (dispatch: any) => {\r\n       let response = await profileAPI.getStatus(userid)\r\n                dispatch(setUserStatus(response.data))\r\n\r\n    }\r\n\r\n\r\nexport const updateUserStatusThunkCreator = (status: string) =>\r\n    async (dispatch: any) => {\r\n    try {\r\n        let response = await profileAPI.getUpdateStatus(status)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setUserStatus(status))\r\n        }\r\n    } catch (error) {\r\n        // 1.dispatch\r\n        // 2.alert\r\n        }\r\n    }\r\n\r\nexport const savePhotoThunkCreator = (file: any) =>\r\n    async (dispatch: any) => {\r\n    let response = await profileAPI.getPhoto(file)\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(savePhotoSuccessful(response.data.data.photos))\r\n        }\r\n\r\n    }\r\n\r\nexport const saveProfileThunkCreator = (profile: profileType) =>\r\n\r\n    async (dispatch: any, getState: any) => {\r\n\r\n    //в рамках одного редьюсера есть возможность обращатсья к другим редьюсерам\r\n    //и к глобальному стейту\r\n        try {\r\n            let userId = getState().auth.userId\r\n            let response = await profileAPI.saveProfile(profile)\r\n\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getUserProfileThunkCreator(userId))\r\n            } else {\r\n                dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}))\r\n                // для выделения конкретного поля\r\n                //dispatch(stopSubmit('edit-profile', {\"contacts\": {\"facebook\": response.data.messages[0]}}))\r\n                return Promise.reject(response.data.messages[0])\r\n            }\r\n        }\r\n        catch (error) {\r\n            // 1.dispatch\r\n            // 2.alert\r\n        }\r\n\r\n    }\r\n\r\nexport default profileReducer","import React from \"react\";\r\nimport classes from './Post.module.css'\r\nimport likePic from \"../../../../assets/images/likev1.png\";\r\nimport userPhoto from \"../../../../assets/images/user-icon.png\"\r\n\r\nconst Post = (props) => {\r\n\r\n\r\n    return (\r\n        \r\n            <div className={classes.item}>\r\n\r\n\r\n                {/*если нет фото, отображается пустота, нужно дописать условие*/}\r\n                <img src={props.profile.photos.small || userPhoto} alt=\"\"/>\r\n\r\n                <b>{props.profile.fullName}</b><br/>\r\n\r\n                <div className={classes.textMessage}>{props.message}</div>\r\n\r\n                <div className={classes.like}><img src={likePic}/>{props.likes}</div>\r\n\r\n            </div>\r\n\r\n    )\r\n}\r\nexport default Post","import React from \"react\";\r\nimport classes from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utilites/validators/validators\";\r\nimport {Textarea} from \"../../common/FormControls/FormControls\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst MyPosts = (props) => {\r\n\r\n    if(!props.profile) {\r\n        return 'Loading...'\r\n        // return <preloader/>\r\n    }\r\n\r\n    let PostObj = props.PostsData.map((key) => <Post key={key.id} message={key.text} likes={key.likes} profile={props.profile}/>);\r\n\r\n\r\n    //набранный текст хранится в стейте redux-form\r\n    let addNewPost = (formData) => {\r\n        props.addPost(formData.newPostText)\r\n        props.reset('AddPostForm')\r\n\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className={classes.posts}>\r\n            <h3>My Posts:</h3>\r\n\r\n            <AddPostReduxForm onSubmit={addNewPost}/>\r\n\r\n            <div className={classes.mes}>\r\n                {PostObj}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\n\r\nlet maxLength = maxLengthCreator(50)\r\n\r\nconst AddPostForm = (props) => {\r\n    return (<div>\r\n\r\n            <form className={classes.box} onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field component={Textarea} name={'newPostText'} placeholder={'Enter your text...'} validate={[maxLength]}/>\r\n                </div>\r\n\r\n                <div>\r\n                    <button className={classes.button}>Add post</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst AddPostReduxForm = reduxForm({form: 'AddPostForm'})(AddPostForm)\r\n\r\nexport default MyPosts","import React from \"react\";\r\nimport {addPost} from \"../../Redux/profile-reducer\"\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {reset} from 'redux-form';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        PostsData: state.ProfilePage.PostsData,\r\n        newPostText: state.ProfilePage.newPostText,\r\n        profile: state.ProfilePage.profile\r\n\r\n    }\r\n};\r\n\r\n\r\nlet MyPostsContainer = connect(mapStateToProps, {addPost, reset})(MyPosts);\r\n\r\nexport default MyPostsContainer","import React from \"react\";\r\nimport './Profile.module.css';\r\nimport classes from './Profile.module.css'\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <div>\r\n\r\n            <ProfileInfo saveProfile={props.saveProfile} savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status}  updateUserStatusThunkCreator={props.updateUserStatusThunkCreator}/>\r\n            {/*посты видны только владельцу*/}\r\n            {props.isOwner && <MyPostsContainer/>}\r\n\r\n        </div>\r\n    )\r\n};\r\nexport default Profile","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    getUserProfileThunkCreator,\r\n    getUserStatusThunkCreator, savePhotoThunkCreator, saveProfileThunkCreator,\r\n    setUserProfile,\r\n    updateUserStatusThunkCreator\r\n} from \"../Redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\r\n    refreshProfile() {\r\n        //берем userId из url в строке ввода браузера\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorisedUserId\r\n            if (!userId) {\r\n                //программный редирект на login\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.getUserProfileThunkCreator(userId)\r\n        this.props.getUserStatusThunkCreator(userId)\r\n\r\n    }\r\n\r\n    //выполняется сразу после render() и сообщается, что можно делать запрос на сервер\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return <Profile saveProfile={this.props.saveProfileThunkCreator}\r\n                        esavePhoto={this.props.savePhotoThunkCreator}\r\n                        isOwner={!this.props.match.params.userId} {...this.props}\r\n                        profile={this.props.profile}\r\n                        updateUserStatusThunkCreator={this.props.updateUserStatusThunkCreator}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        profile: state.ProfilePage.profile,\r\n        status: state.ProfilePage.status,\r\n        authorisedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\n\r\nlet Composed = compose(\r\n    connect(mapStateToProps, {\r\n        setUserProfile,\r\n        getUserProfileThunkCreator,\r\n        updateUserStatusThunkCreator,\r\n        getUserStatusThunkCreator,\r\n        savePhotoThunkCreator,\r\n        saveProfileThunkCreator\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);\r\n\r\nexport default Composed\r\n","import React from \"react\";\r\nimport classes from './News.module.css'\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\n\r\nconst News = (props) => {\r\n    if (!props.isAuth) {return }\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default withAuthRedirect(News)","import React from \"react\";\r\nimport classes from './Music.module.css'\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withAuthRedirect(Music)","import React from \"react\";\r\nimport classes from './Settings.module.css'\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default withAuthRedirect(Settings)","import {usersAPI} from \"../../api/api\";\r\nimport { userType } from \"../../Types/types\";\r\n\r\nconst FOLLOW ='users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst TOTAL_USERS_COUNT = 'users/TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING ';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS'\r\n\r\n\r\n\r\nlet initialState = {\r\n    users: [] as Array<userType>,\r\n    pageSize: 5,\r\n    totalUsersCount: 21,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: [] as Array<number>,\r\n};\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nlet usersReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((key) => {\r\n                        if (key.id === action.userid) {\r\n                            return {...key, followed: true} // возвращем копию объекта user[?], 'followed:' затираем\r\n                        }\r\n                        return key\r\n                    }\r\n                )\r\n            };\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map((key) => {\r\n                        if (key.id === action.userid) {\r\n                            return {...key, followed: false}\r\n                        }\r\n                        return key\r\n                    }\r\n                )\r\n            };\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        } case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                 currentPage: action.page\r\n\r\n            }\r\n        } case TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            }\r\n        } case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.toggle\r\n\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.statusProgress\r\n                ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default: return state;\r\n    }\r\n};\r\n\r\ntype followType = {\r\n    type: typeof FOLLOW, userid: number\r\n}\r\ntype unfollowType = {\r\n    type: typeof UNFOLLOW, userid: number\r\n}\r\ntype setUsersType = {\r\n    type: typeof SET_USERS, users: Array<userType>\r\n}\r\ntype setCurrentPageType = {\r\n    type: typeof SET_CURRENT_PAGE, page: number\r\n}\r\ntype setTotalUsersCountType = {\r\n    type: typeof TOTAL_USERS_COUNT, count: number\r\n}\r\ntype toggleIsFetchingType = {\r\n    type: typeof TOGGLE_IS_FETCHING, toggle: boolean\r\n}\r\ntype toggleFollowingProgressType = {\r\n    type: typeof TOGGLE_IS_FOLLOWING_PROGRESS, statusProgress: boolean, userId: number\r\n}\r\n\r\n\r\nexport const follow = (userid: number): followType => ({type: FOLLOW, userid});\r\nexport const unfollow = (userid: number):unfollowType => ({type: UNFOLLOW, userid});\r\nexport const setUsers = (users: Array<userType>): setUsersType => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage: number): setCurrentPageType => ({type: SET_CURRENT_PAGE, page: currentPage});\r\nexport const setTotalUsersCount = (totalCount: number): setTotalUsersCountType => ({type: TOTAL_USERS_COUNT, count: totalCount});\r\nexport const toggleIsFetching = (isFetching: boolean): toggleIsFetchingType => ({type: TOGGLE_IS_FETCHING, toggle: isFetching});\r\nexport const toggleFollowingProgress = (statusProgress: boolean, userId: number): toggleFollowingProgressType => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, statusProgress, userId})\r\n\r\n//THUNKS:\r\nexport const getUsersThunkCreator = (currentPage: number, pageSize: number) => {\r\n    //currentPage, pageSize замыкаются в thunk\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items))\r\n                dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n    }\r\n}\r\n\r\n\r\nexport const getUsersThunkCreatorPageChanged = (pageNumber: number, pageSize: number) =>\r\n    //currentPage, pageSize замыкаются в thunk\r\n    async (dispatch: any) => {\r\n        dispatch(setCurrentPage(pageNumber))\r\n        dispatch(toggleIsFetching(true))\r\n\r\n        let data = await usersAPI.getUsers(pageNumber, pageSize)\r\n\r\n                dispatch(toggleIsFetching(false))\r\n                dispatch(setUsers(data.items));\r\n\r\n    }\r\n\r\n\r\nexport const unfollowThunk = (userId: number) =>\r\n    //currentPage, pageSize замыкаются в thunk\r\n    async (dispatch: any) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n\r\n        let response = await usersAPI.getFollow(userId)\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(unfollow(userId))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n\r\n\r\nexport const followThunk = (userId: number) =>\r\n    async (dispatch: any) => {\r\n       dispatch( toggleFollowingProgress(true, userId))\r\n        let response = await usersAPI.getUnfollow(userId)\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(follow(userId))\r\n                }\r\n               dispatch( toggleFollowingProgress(false, userId))\r\n    }\r\n\r\nexport default usersReducer","import React, {useState} from \"react\";\r\nimport classes from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\ntype propsType = {\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    pageSize: number\r\n    onPageChanged: (p: number) => void\r\n\r\n}\r\n\r\n\r\nconst Paginator: React.FC<propsType> = (props) => {\r\n    let portionSize = 10;\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState<number>(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\r\n    let pageCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    return <div className={classes.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [classes.selectedPage]: props.currentPage === p\r\n                }, classes.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 props.onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n\r\n    { portionCount > portionNumber &&\r\n    <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n</div>\r\n\r\n};\r\n\r\n\r\nexport default Paginator","import {NavLink} from \"react-router-dom\";\r\nimport classes from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user-icon.png\";\r\nimport React from \"react\";\r\n\r\n\r\nconst User = (props) => {\r\n    debugger\r\n\r\n    return (<div className={classes.userIcons} key={props.user.id}>\r\n\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + props.user.id}>\r\n                        <img className={classes.usersPhoto} src={\r\n\r\n                            props.user.photos.small != null ? props.user.photos.small : userPhoto\r\n\r\n                        } alt=\"\"/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            props.user.followed ? <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n\r\n                                    props.unfollowThunk(props.user.id)\r\n\r\n\r\n                                }}>Unfollow</button>\r\n\r\n                                : <button disabled={props.followingInProgress.some(id => id === props.user.id)} onClick={() => {\r\n\r\n                                    props.followThunk(props.user.id)\r\n\r\n\r\n                                }}>Follow</button>\r\n                        }\r\n                    </div>\r\n                    <span>\r\n                        <span>\r\n                            <div><b>Username:</b> {props.user.name}</div>\r\n                            <div><b>Status:</b> {props.user.status}</div>\r\n                        </span>\r\n\r\n                    </span>\r\n                </span>\r\n    </div>)\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport classes from \"./Users.module.css\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport {userType} from \"../../Types/types\";\r\n\r\n\r\ntype propsType = {\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    pageSize: number\r\n    onPageChanged: (p: number) => void\r\n    followThunk: (userId: number) => void\r\n    unfollowThunk: (userId: number) => void\r\n    followingInProgress: Array<number>\r\n    users: Array<userType>\r\n}\r\n\r\nconst Users: React.FC<propsType> = (props) => {\r\n\r\n\r\n    return <div>\r\n\r\n        <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} currentPage={props.currentPage} onPageChanged={props.onPageChanged}/>\r\n\r\n        <div className={classes.usersIcons}>\r\n        {props.users.map((u) => <User followThunk={props.followThunk}\r\n                                      unfollowThunk={props.unfollowThunk}\r\n                                      followingInProgress={props.followingInProgress}\r\n                                      //followed={props.followed}\r\n                                      user={u} key={u.id}/>)\r\n        }\r\n        </div>\r\n    </div>\r\n};\r\nexport default Users","import {createSelector} from \"reselect\";\r\nimport {appStateType} from \"./redux-store\";\r\n\r\n\r\nexport const getUsersSelector = (state: appStateType) => {\r\n    return state.usersPage.users\r\n};\r\n\r\n// вся сложная логика должна находится в селекторе, созданном через createSelector\r\n// render в этом случае не вызывается постоянно, т.к. суперселектор сначала обращается к своему кэшу и проверяет\r\n// произошли ли изменения в передаваемом объекте\r\nexport const getUsersSelectorSuper = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n});\r\n\r\n\r\nexport const getPageSizeSelector = (state: appStateType) => {\r\n    return state.usersPage.pageSize\r\n};\r\nexport const getTotalUsersCountSelector = (state: appStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\nexport const getCurrentPageSelector = (state: appStateType) => {\r\n    return state.usersPage.currentPage\r\n};\r\nexport const getIsFetchingSelector = (state: appStateType) => {\r\n    return state.usersPage.isFetching\r\n};\r\nexport const getFollowingInProgressSelector = (state: appStateType) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    followThunk, getUsersThunkCreator, getUsersThunkCreatorPageChanged,\r\n    setCurrentPage, setTotalUsersCount, setUsers,\r\n    toggleFollowingProgress, toggleIsFetching, unfollowThunk\r\n} from \"../Redux/user-reducer\";\r\nimport Users from \"./Users\";\r\nimport preloader from '../../assets/images/6.gif'\r\nimport {withAuthRedirect} from \"../Hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPageSelector, getFollowingInProgressSelector, getIsFetchingSelector,\r\n    getPageSizeSelector,\r\n    getTotalUsersCountSelector,\r\n    getUsersSelector, getUsersSelectorSuper\r\n} from \"../Redux/user-selectors\";\r\nimport classes from './Users.module.css'\r\nimport {userType} from \"../../Types/types\";\r\nimport {appStateType} from \"../Redux/redux-store\";\r\n\r\n\r\ntype mapDispatchPropsType = {\r\n    followThunk: (userId: number) => void\r\n    unfollowThunk: (userId: number) => void\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n    getUsersThunkCreatorPageChanged: (pageNumber: number, pageSize: number) => void\r\n}\r\n\r\ntype mapStatePropsType = {\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n    users: Array<userType>\r\n}\r\n\r\ntype OwnPropsType = {\r\n    pageTitle: string\r\n}\r\n\r\ntype propsType = mapStatePropsType & mapDispatchPropsType & OwnPropsType\r\n\r\n\r\n// контейнерная компонента для AJAX запроса на сервер\r\nclass UsersAPIComponent extends React.Component<propsType> {\r\n\r\n    //выполняется сразу после render() и сообщается, что можно делать запрос на сервер\r\n    componentDidMount() {\r\n        //перенесен в thunk\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    // все методы яв-ся стрелочными ф-ми для сохранения контекста вызова\r\n    onPageChanged = (pageNumber: number) => {\r\n        //перенесен в thunk\r\n        this.props.getUsersThunkCreatorPageChanged(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            <h2>{this.props.pageTitle}</h2>\r\n\r\n            {this.props.isFetching ? <img className={classes.preloader} alt={''} src={preloader}/> : null}\r\n\r\n            <Users currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollowThunk={this.props.unfollowThunk}\r\n                   followThunk={this.props.followThunk}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: appStateType): mapStatePropsType => {\r\n//selectors:\r\n    return {\r\n        users: getUsersSelectorSuper(state),\r\n        pageSize: getPageSizeSelector(state),\r\n        totalUsersCount: getTotalUsersCountSelector(state),\r\n        currentPage: getCurrentPageSelector(state),\r\n        isFetching: getIsFetchingSelector(state),\r\n        followingInProgress: getFollowingInProgressSelector(state),\r\n    }\r\n\r\n};\r\n\r\nlet Composed = compose(\r\n    connect<mapStatePropsType, mapDispatchPropsType, OwnPropsType, appStateType>(mapStateToProps, {\r\n\r\n        followThunk,\r\n        unfollowThunk,\r\n        getUsersThunkCreator,\r\n        getUsersThunkCreatorPageChanged\r\n        //setCurrentPage,\r\n        // toggleFollowingProgress,\r\n        // toggleIsFetching,\r\n        //setUsers,\r\n        // setTotalUsersCount\r\n    }),\r\n    //withAuthRedirect\r\n)(UsersAPIComponent);\r\n\r\n\r\nexport default Composed","import React from \"react\";\r\nimport classes from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header}>\r\n            <img\r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png\"\r\n                alt=\"\"/>\r\n\r\n                <div className={classes.loginBlock}>\r\n                    <div>\r\n                        {/*<img src={props.isAuth ? logAvatar : null} alt=\"\"/>*/}\r\n\r\n                        {props.isAuth\r\n                            ? <div>{props.login} <button className={classes.button} onClick={props.getLogoutThunkCreator}>Logout</button></div>\r\n                            : <NavLink className={classes.loginBlock} to={'/login'}>Sign In</NavLink>}\r\n                    </div>\r\n                </div>\r\n        </header>\r\n    )\r\n}\r\nexport default Header","import {authAPI, securityAPI} from \"../../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_SUCCESSFUL = 'auth/GET-CAPTCHA-SUCCESSFUL';\r\n\r\n\r\nlet initialState = {\r\n    userId: null as number | null,\r\n    login: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null\r\n\r\n};\r\ntype initialStateType = typeof initialState\r\n\r\nlet authReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        case GET_CAPTCHA_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\ntype setAuthUserDataType = {\r\n    type: typeof SET_USER_DATA,\r\n    payload: {userId: number | null, login: string | null, email: string | null, isAuth: boolean}\r\n}\r\nexport const setAuthUserData = (userId: number | null, login: string | null, email: string | null, isAuth: boolean): setAuthUserDataType => {\r\n    return {type: SET_USER_DATA, payload: {userId, login, email, isAuth}}\r\n};\r\ntype getCaptchaSuccessfulType = {\r\n    type: typeof GET_CAPTCHA_SUCCESSFUL,\r\n    payload: {captchaUrl: string}\r\n}\r\nexport const getCaptchaSuccessful = (captchaUrl: string): getCaptchaSuccessfulType => ({type: GET_CAPTCHA_SUCCESSFUL, payload: {captchaUrl}})\r\n\r\n//THUNKS:\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch: any) => {\r\n        //второй return возвращает вызов thunkcreator'а наоружу\r\n        let response = await  authAPI.getAuthUserData()\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    let {id, login, email} = response.data.data;\r\n                    dispatch(setAuthUserData(id, login, email, true))\r\n                }\r\n    }\r\n\r\nexport const getLoginThunkCreator = (email: string, password: number, rememberMe: boolean, captcha: string) =>\r\n\r\n    async (dispatch: any) => {\r\n\r\n        let response = await authAPI.getLogin(email, password, rememberMe, captcha)\r\n\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getAuthUserDataThunkCreator())\r\n                } else {\r\n                    if (response.data.resultCode === 10) {\r\n                        dispatch(getCaptchaUrlThunkCreator())\r\n                    }\r\n                    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"unknown error\"\r\n\r\n                    dispatch(stopSubmit('login', {_error: message}))\r\n                }\r\n\r\n    }\r\n\r\n\r\nexport const getLogoutThunkCreator = () =>\r\n    async (dispatch: any) => {\r\n        let response = await authAPI.getLoginout()\r\n            // .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setAuthUserData(null, null, null, false))\r\n                }\r\n    }\r\n\r\n\r\nexport const getCaptchaUrlThunkCreator = () =>\r\n\r\n    async (dispatch: any) => {\r\n\r\n    let response = await securityAPI.getCaptchaUrl()\r\n        let captchaUrl = response.data.url\r\n\r\n        dispatch(getCaptchaSuccessful(captchaUrl))\r\n    }\r\n\r\nexport default authReducer","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {getAuthUserDataThunkCreator, getLogoutThunkCreator, setAuthUserData} from '../Redux/auth-reducer'\r\nimport {connect} from \"react-redux\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        login: state.auth.login,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {setAuthUserData, getAuthUserDataThunkCreator, getLogoutThunkCreator}) (HeaderContainer)","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {required} from \"../../utilites/validators/validators\";\r\nimport {Input} from \"../common/FormControls/FormControls\";\r\nimport {getLoginThunkCreator} from \"../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport classes from \"./../common/FormControls/FormControls.module.css\"\r\n\r\nconst LoginForm = (props) => {\r\n\r\n//все наши данные упаковываются в obj formData\r\n    //внутри handleSubmit вызывается onSubmit() и в него передается formData\r\n    return <div className={classes.loginForm}>\r\n\r\n        <form className={classes.formInputs} onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Input} name={'email'} placeholder={'email'} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'password'} placeholder={'password'} validate={[required]} type={'password'}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'rememberMe'} type={'checkbox'}/> remember me\r\n            </div>\r\n            \r\n            {props.captchaUrl && <img src={props.captchaUrl}/>}\r\n            {props.captchaUrl && <Field component={Input} name={'captcha'} placeholder={''} validate={[required]}/>}\r\n\r\n            {/*Общий error появился путем добавления _error в stopSubmit()*/}\r\n            {props.error && <div className={classes.formSummaryError}>\r\n                {props.error}\r\n\r\n            </div>}\r\n            <div>\r\n                <button className={classes.submitButton}>Sign in</button>\r\n            </div>\r\n\r\n        </form>\r\n    </div>\r\n};\r\n\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n\r\n\r\n    const onSubmit = (formData) => {\r\n        props.getLoginThunkCreator(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    //этот onSubmit вызывается внутри handleSubmit в LoginForm\r\n    return <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit}/>\r\n};\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getLoginThunkCreator, getLogoutThunkCreator} from \"../Redux/auth-reducer\";\r\nimport Login from \"./Login\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getLoginThunkCreator, getLogoutThunkCreator})(Login)","import {getAuthUserDataThunkCreator} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESSFUL= 'app/INITIALIZED-SUCCESSFUL';\r\n\r\n\r\nlet initialState: initialStateType = {\r\n    initialized: false\r\n};\r\ntype initialStateType = {\r\n    initialized: boolean\r\n}\r\n\r\nlet appReducer = (state = initialState, action: any): initialStateType => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESSFUL:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n\r\n    }\r\n};\r\ntype initializedSuccessfulType = {type: typeof INITIALIZED_SUCCESSFUL}\r\nexport const initializedSuccessful = (): initializedSuccessfulType => ({type: INITIALIZED_SUCCESSFUL})\r\n\r\n\r\n//THUNKS:\r\n\r\nexport const initializeAppThunkCreator = () => (dispatch: any) => {\r\n        //dispatch может возвращать то, что возвращает ф-я,\r\n        //которую он вызывает\r\n        let dispatchResult = dispatch(getAuthUserDataThunkCreator());\r\n\r\n        Promise.all([dispatchResult])\r\n            .then(() => {\r\n\r\n            dispatch(initializedSuccessful())\r\n        })\r\n\r\n    }\r\n\r\nexport default appReducer","import React, {Component} from 'react';\r\nimport './App.css';\r\nimport Nav from \"./Components/Nav/Nav\";\r\nimport ProfileContainer from \"./Components/Profile/ProfieContainer\";\r\nimport News from \"./Components/News/News\";\r\nimport Music from \"./Components/Music/Music\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport {Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport LoginContainer from \"./Components/Login/LoginContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeAppThunkCreator} from \"./Components/Redux/app-reducer\";\r\nimport preloader from \"./assets/images/6.gif\";\r\nimport pic404 from \"./assets/images/page-not-found.png\";\r\n\r\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors(promise) {\r\n        alert('Something went wrong')\r\n        console.error(promise)\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.props.initializeAppThunkCreator()\r\n        //перехват всех ошибок\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <img src={preloader} />\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n\r\n                <div className='app-wrapper-content'>\r\n                    {/*switch осуществляет сравнение сверху-вниз к более точному совпадению*/}\r\n                    <Switch>\r\n                        <Route exact path='/' render={() => <Redirect to={'/profile'} /> }/>\r\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n\r\n                        <Route path='/dialogs' render={() =>\r\n                            <React.Suspense fallback={<div>Loading...</div>}>\r\n                                <DialogsContainer />\r\n                            </React.Suspense>}/>\r\n\r\n                        <Route path='/news' render={() => <News/>}/>\r\n                        <Route path='/music' render={() => <Music/>}/>\r\n                        <Route path='/users' render={() => <UsersContainer pageTitle={'Hello, Samurai'}/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/login' render={() => <LoginContainer/>}/>\r\n                        <Route path='*' render={() => <div><b>NOT FOUND</b><br/><img src={pic404}/></div> }/>\r\n\r\n                    </Switch>\r\n\r\n                </div>\r\n\r\n                <Nav/>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n}\r\n\r\nlet Composed = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppThunkCreator,})\r\n)(App);\r\n\r\nexport default Composed\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","\r\nlet initialState = {};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state\r\n};\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport messageReducer from \"./message-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./user-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\"\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet rootReducer = combineReducers({\r\n    //методы этого объекта это свойства state\r\n    ProfilePage: profileReducer,\r\n    MessagesPage: messageReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\ntype rootReducerType = typeof rootReducer\r\nexport type appStateType = ReturnType<rootReducerType>\r\n\r\n\r\n// 1.chrome extensions:\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//2.original:\r\n//const store = createStore(benchOfReducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store\r\n","import React from \"react\";\r\nimport \"./index.css\";\r\nimport ReactDOM from \"react-dom\"\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport store from \"./Components/Redux/redux-store\";\r\nimport './index.css';\r\nimport {Provider} from \"react-redux\";\r\n\r\n//по умолчанию\r\n// ReactDOM.render(\r\n//     <BrowserRouter>\r\n//         <Provider store={store}>\r\n//             <App/>\r\n//         </Provider>\r\n//     </BrowserRouter>, document.getElementById('root'));\r\n\r\n//для github pages\r\nReactDOM.render(\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>, document.getElementById('root'));\r\n\r\nwindow.store = store;\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormControls_formControls__tfmX2\",\"error\":\"FormControls_error__1qQV8\",\"formSummaryError\":\"FormControls_formSummaryError__3QNQG\",\"formInputs\":\"FormControls_formInputs__37-Py\",\"submitButton\":\"FormControls_submitButton__EOn7s\",\"loginForm\":\"FormControls_loginForm__1OyCU\"};","export const required = (value) => {\r\n    if (value) return undefined\r\n\r\n    return 'Field is required'\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength)=> {\r\n    return (value) => {\r\n        if (value && value.length > maxLength) {\r\n            return `Max length is ${maxLength} symbols`\r\n        }\r\n        return undefined\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__YkTIW\",\"usersIcons\":\"Users_usersIcons__3ZDSN\",\"userIcons\":\"Users_userIcons__Kr-d2\",\"preloader\":\"Users_preloader__1C1mF\"};","module.exports = __webpack_public_path__ + \"static/media/6.2407b512.gif\";","module.exports = __webpack_public_path__ + \"static/media/user-icon.ae6dd9fd.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__1yKb5\",\"mes\":\"MyPosts_mes__KvNao\",\"box\":\"MyPosts_box___C_zN\",\"button\":\"MyPosts_button__IBVAY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__ROF2T\",\"loginBlock\":\"Header_loginBlock__2vWpt\",\"button\":\"Header_button__2tRRi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2bbc6\",\"textMessage\":\"Post_textMessage__2qST5\",\"like\":\"Post_like__TF8ni\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__JTy4q\",\"pageNums\":\"Paginator_pageNums__M48_-\",\"paginator\":\"Paginator_paginator__4yqJk\",\"pageNumber\":\"Paginator_pageNumber__1spXt\"};"],"sourceRoot":""}