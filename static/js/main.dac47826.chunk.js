(this["webpackJsonpreact-kam-1"]=this["webpackJsonpreact-kam-1"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(40),r=n(9),o={MessagesData:[{id:1,text:"Hello!"},{id:2,text:"How your learning!"},{id:3,text:"Yo!"}],newMessageText:"Message default :D",DialogsData:[{id:1,name:"Dima"},{id:2,name:"Andrey"},{id:3,name:"Sveta"},{id:4,name:"Valera"},{id:5,name:"Misha"},{id:6,name:"Katya"}]},u=function(e){return{type:"SEND-MESSAGE",body:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if("SEND-MESSAGE"===t.type){var n={id:4,text:t.body};return Object(r.a)({},e,{newMessageText:"",MessagesData:[].concat(Object(a.a)(e.MessagesData),[n])})}return e}},139:function(e,t,n){e.exports={item:"Post_item__1HiMt"}},15:function(e,t,n){e.exports={nav:"Nav_nav__3P-y8",item:"Nav_item__RNuav",activeLink:"Nav_activeLink__23ac6"}},168:function(e,t,n){e.exports=n(297)},173:function(e,t,n){},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var a=n(73),r=n(0),o=n.n(r),u=n(54),s=n.n(u),i=function(e){e.input;var t=e.meta,n=Object(a.a)(e,["input","meta"]),r=t.touched&&t.error;return o.a.createElement("div",{className:s.a.formControls+" "+(r?s.a.error:"")},o.a.createElement("div",null,n.children),r&&o.a.createElement("span",null,t.error))},c=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return o.a.createElement(i,e,o.a.createElement("textarea",Object.assign({},t,n)))},l=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,["input","meta"]));return o.a.createElement(i,e,o.a.createElement("input",Object.assign({},t,n)))}},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t){e.exports="data:image/png;base64,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"},297:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=(n(101),n(65)),u=n.n(o),s=n(23),i=n(24),c=n(26),l=n(25),m=n(27),f=(n(173),n(15)),p=n.n(f),d=n(11),g=function(){return r.a.createElement("nav",{className:p.a.nav},r.a.createElement("div",{className:"".concat(p.a.item," ").concat(p.a.active)},r.a.createElement(d.b,{to:"/profile",activeClassName:p.a.activeLink},"Profile")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/dialogs",activeClassName:p.a.activeLink},"Messages")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/users",activeClassName:p.a.activeLink},"Users")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/news",activeClassName:p.a.activeLink},"News")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/music",activeClassName:p.a.activeLink},"Music")),r.a.createElement("div",{className:p.a.item},r.a.createElement(d.b,{to:"/settings",activeClassName:p.a.activeLink},"Settings")))},h=(n(102),n(41)),E=n(35),v=n.n(E),b=n(44),C=n.n(b),P=n(69),O=n.n(P),w=(r.a.Component,function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),o=n[0],u=n[1],s=Object(a.useState)(e.status),i=Object(h.a)(s,2),c=i[0],l=i[1];Object(a.useEffect)((function(){l(e.status)}),[e.status]);return r.a.createElement("div",null,!o&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:function(){u(!0)},className:O.a.status},e.status||"ERROR :(")),o&&r.a.createElement("div",null,r.a.createElement("input",{onBlur:function(){u(!1),e.updateUserStatusThunkCreator(c)},onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,value:c})))}),k=n(51),j=n.n(k),S=n(19),A=n(38),T=n(133),y=n(134),x=Object(y.a)({form:"edit-profile"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement("button",null,"save")),e.error&&r.a.createElement("div",{className:v.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("b",null,"Description:")),r.a.createElement("div",null,r.a.createElement("b",null,"About Me:")," ",r.a.createElement(T.a,{component:S.a,name:"aboutMe",placeholder:"about me",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"Full name:")," ",r.a.createElement(T.a,{component:S.a,name:"fullName",placeholder:"name",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job: "),r.a.createElement(T.a,{type:"checkbox",component:S.a,name:"lookingForAJob",placeholder:"",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills: "),r.a.createElement(T.a,{component:S.b,name:"lookingForAJobDescription",placeholder:"",validate:[]})),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts:")," ",Object.keys(e.profile.contacts).map((function(e){return r.a.createElement("div",{key:e,className:v.a.contacs},r.a.createElement("b",null,e,":",r.a.createElement(T.a,{component:S.b,name:"contacts."+e,placeholder:e,validate:[]})," "))}))))})),I=function(e){var t=e.contactKey,n=e.contactValue;return r.a.createElement("div",{className:v.a.contacs,c:!0},r.a.createElement("b",null,t),": ",n)},N=function(e){return r.a.createElement("div",null,e.isOwner&&r.a.createElement("div",null,r.a.createElement("button",{onClick:e.goEditMode},"edit")),r.a.createElement("div",null,r.a.createElement("b",null,"Description:")),r.a.createElement("div",null,r.a.createElement("b",null,"About Me:")," ",e.profile.aboutMe),r.a.createElement("div",null,r.a.createElement("b",null,"Full name:")," ",e.profile.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job: "),e.profile.lookingForAJob?"yes":"no"),r.a.createElement("div",null,r.a.createElement("b",null,"My professional skills: ")," ",e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts:")," ",Object.keys(e.profile.contacts).map((function(t){return r.a.createElement(I,{key:t,contactKey:t,contactValue:e.profile.contacts[t]})}))))},B=function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),o=n[0],u=n[1];if(!e.profile)return r.a.createElement("img",{src:C.a});return r.a.createElement("div",{className:v.a.item},r.a.createElement("div",{className:v.a.description},r.a.createElement("img",{className:v.a.mainPhoto,src:e.profile.photos.large||j.a}),r.a.createElement("div",null,e.isOwner&&r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.saveProfile(t.target.files[0])}})),r.a.createElement("b",null,"Status:")," ",r.a.createElement(w,{status:e.status,updateUserStatusThunkCreator:e.updateUserStatusThunkCreator}),o?r.a.createElement(x,Object.assign({initialValues:e.profile,onSubmit:function(t){e.saveProfile(t).then((function(){u(!1)}))}},e)):r.a.createElement(N,Object.assign({},e,{goEditMode:function(){u(!0)},isOwner:e.isOwner}))))},D=n(8),L=n.n(D),U=n(14),F=n(40),M=n(9),R=n(67).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"5cf4903e-57bb-48e6-bfa5-8d21e3653b58"}}),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return R.get("users?page=".concat(e,"&count=").concat(t),{}).then((function(e){return e.data}))},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return R.delete("follow/".concat(e),{})},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return R.post("follow/".concat(e),{},{})},Q=function(e){return R.get("profile/".concat(e))},K=function(e){return R.get("profile/status/".concat(e))},V=function(e){return R.put("profile/status",{status:e})},J=function(e){var t=new FormData;return t.append("image",e),R.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},W=function(e){return R.put("profile",e)},Y=function(){return R.get("auth/me")},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return R.post("auth/login",{email:e,password:t,rememberMe:n})},_=function(){return R.delete("auth/login")},X=n(29),Z={PostsData:[{id:1,text:"Its my first post",likes:24},{id:2,text:"Hello, hi are you?",likes:3},{id:3,text:"Yo!",likes:3}],newPostText:"default :)",profile:null,status:""},$=function(e){return{type:"SET-USER-PROFILE",profile:e}},ee=function(e){return{type:"SET-USER-STATUS",status:e}},te=function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(e);case 2:a=t.sent,n($(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:4,text:t.body,likes:80};return Object(M.a)({},e,{PostsData:[].concat(Object(F.a)(e.PostsData),[n]),newPostText:""});case"SET-USER-PROFILE":return Object(M.a)({},e,{profile:t.profile});case"SET-USER-STATUS":return Object(M.a)({},e,{status:t.status});case"DELETE-POST":return Object(M.a)({},e,{PostsData:e.PostsData.filter((function(e){return e.id!=t.postId}))});case"PHOTO-IS-SAVED":return Object(M.a)({},e,{profile:Object(M.a)({},e.profile,{photos:t.photoFile})});default:return e}},ae=n(98),re=n.n(ae),oe=n(139),ue=n.n(oe),se=function(e){return r.a.createElement("div",{className:ue.a.item},r.a.createElement("img",{src:"https://icons.iconarchive.com/icons/diversity-avatars/avatars/256/batman-icon.png",alt:""}),e.message,r.a.createElement("div",null,r.a.createElement("span",null,"like"))," ",e.likes)},ie=Object(A.a)(10),ce=Object(y.a)({form:"AddPostForm"})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(T.a,{component:S.b,name:"newPostText",placeholder:"default -_- from redux-form",validate:[A.b,ie]})),r.a.createElement("div",null,r.a.createElement("button",null,"Add post"))))})),le=function(e){var t=e.PostsData.map((function(e){return r.a.createElement(se,{key:e.id,message:e.text,likes:e.likes})}));r.a.createRef();return r.a.createElement("div",{className:re.a.posts},r.a.createElement("h3",null,"My Posts"),r.a.createElement(ce,{onSubmit:function(t){e.addPost(t.newPostText)}}),r.a.createElement("div",null,"New Post"),r.a.createElement("div",{className:re.a.mes},t))},me=n(10),fe=Object(me.b)((function(e){return{PostsData:e.ProfilePage.PostsData,newPostText:e.ProfilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",body:e}}(t))},updateNewPostText:function(t){e(function(e){return{type:"UPDATE-NEW-POST-TEXT",newText:e}}(t))}}}))(le),pe=function(e){return r.a.createElement("div",null,r.a.createElement(B,{saveProfile:e.saveProfile,savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatusThunkCreator:e.updateUserStatusThunkCreator}),r.a.createElement(fe,null))},de=n(30),ge=(n(99),n(6)),he=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorisedUserId)||this.props.history.push("/login"),this.props.getUserProfileThunkCreator(e),this.props.getUserStatusThunkCreator(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(pe,Object.assign({saveProfile:this.props.saveProfileThunkCreator,esavePhoto:this.props.savePhotoThunkCreator,isOwner:!this.props.match.params.userId},this.props,{profile:this.props.profile,updateUserStatusThunkCreator:this.props.updateUserStatusThunkCreator}))}}]),t}(r.a.Component),Ee=Object(ge.d)(Object(me.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,authorisedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfile:$,getUserProfileThunkCreator:te,updateUserStatusThunkCreator:function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:0===t.sent.data.resultCode&&n(ee(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserStatusThunkCreator:function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:a=t.sent,n(ee(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhotoThunkCreator:function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"PHOTO-IS-SAVED",photoFile:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfileThunkCreator:function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n,a){var r,o;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,W(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}n(te(r)),t.next=11;break;case 8:return n(Object(X.a)("edit-profile",{_error:o.data.messages[0]})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),de.f)(he),ve=(n(293),function(){return r.a.createElement("div",null,"News")}),be=(n(294),function(){return r.a.createElement("div",null,"Music")}),Ce=(n(295),function(){return r.a.createElement("div",null,"Settings")}),Pe={users:[],pageSize:5,totalUsersCount:21,currentPage:1,isFetching:!0,followingInProgress:[],fake:"fake"},Oe=function(e){return{type:"SET-USERS",users:e}},we=function(e){return{type:"SET-CURRENT-PAGE",page:e}},ke=function(e){return{type:"TOTAL-USERS-COUNT",count:e}},je=function(e){return{type:"TOGGLE-IS-FETCHING ",toggle:e}},Se=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-PROGRESS",statusProgress:e,userId:t}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(M.a)({},e,{users:e.users.map((function(e){return e.id===t.userid?Object(M.a)({},e,{followed:!0}):e}))});case"UNFOLLW":return Object(M.a)({},e,{users:e.users.map((function(e){return e.id===t.userid?Object(M.a)({},e,{followed:!1}):e}))});case"SET-USERS":return Object(M.a)({},e,{users:Object(F.a)(t.users)});case"SET-CURRENT-PAGE":return Object(M.a)({},e,{currentPage:t.page});case"TOTAL-USERS-COUNT":return Object(M.a)({},e,{totalUsersCount:t.count});case"TOGGLE-IS-FETCHING ":return Object(M.a)({},e,{isFetching:t.toggle});case"TOGGLE-IS-FOLLOWING-PROGRESS":return Object(M.a)({},e,{followingInProgress:t.statusProgress?[].concat(Object(F.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Te=n(93),ye=n.n(Te),xe=n(72),Ie=n(75),Ne=n.n(Ie),Be=n(140),De=n.n(Be),Le=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=Math.ceil(t/10),o=Object(a.useState)(1),u=Object(h.a)(o,2),s=u[0],i=u[1],c=10*(s-1)+1,l=10*s,m=Math.ceil(e.totalItemsCount/e.pageSize),f=[],p=1;p<=m;p++)f.push(p);return r.a.createElement("div",{className:Ne.a.paginator},s>1&&r.a.createElement("button",{onClick:function(){i(s-1)}},"PREV"),f.filter((function(e){return e>=c&&e<=l})).map((function(t){return r.a.createElement("span",{className:De()(Object(xe.a)({},Ne.a.selectedPage,e.currentPage===t),Ne.a.pageNumber),key:t,onClick:function(n){e.onPageChanged(t)}},t)})),n>s&&r.a.createElement("button",{onClick:function(){i(s+1)}},"NEXT"))},Ue=function(e){return r.a.createElement("div",{key:e.user.id},r.a.createElement("span",null,r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile/"+e.user.id},r.a.createElement("img",{className:ye.a.usersPhoto,src:null!=e.user.photos.small?e.user.photos.small:j.a,alt:""}))),r.a.createElement("div",null,e.user.followed?r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollowThunk(e.user.id)}},"Unfollow"):r.a.createElement("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.followThunk(e.user.id)}},"Follow")),r.a.createElement("span",null,r.a.createElement("span",null,r.a.createElement("div",null,e.user.name),r.a.createElement("div",null,e.user.status)),r.a.createElement("span",null,r.a.createElement("div",null,"u.location.country"),r.a.createElement("div",null,"u.location.city")))))},Fe=function(e){return r.a.createElement("div",null,r.a.createElement(Le,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged}),r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement(Ue,{followThunk:e.followThunk,unfollowThunk:e.unfollowThunk,followingInProgress:e.followingInProgress,followed:e.followed,user:t,key:t.id})}))))},Me=n(141),Re=Object(Me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ge=function(e){return e.usersPage.pageSize},He=function(e){return e.usersPage.totalUsersCount},ze=function(e){return e.usersPage.currentPage},Qe=function(e){return e.usersPage.isFetching},Ke=function(e){return e.usersPage.followingInProgress},Ve=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsersThunkCreatorPageChanged(e,n.props.pageSize)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.isFetching?r.a.createElement("img",{src:C.a}):null,r.a.createElement(Fe,{currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollowThunk:this.props.unfollowThunk,followThunk:this.props.followThunk,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress}))}}]),t}(r.a.Component),Je=Object(ge.d)(Object(me.b)((function(e){return{users:Re(e),pageSize:Ge(e),totalUsersCount:He(e),currentPage:ze(e),isFetching:Qe(e),followingInProgress:Ke(e)}}),{followThunk:function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Se(!0,e)),t.next=3,z(e);case 3:0==t.sent.data.resultCode&&n({type:"FOLLOW",userid:e}),n(Se(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowThunk:function(e){return function(){var t=Object(U.a)(L.a.mark((function t(n){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Se(!0,e)),t.next=3,H(e);case 3:0==t.sent.data.resultCode&&n({type:"UNFOLLW",userid:e}),n(Se(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:we,toggleFollowingProgress:Se,toggleIsFetching:je,setUsers:Oe,setTotalUsersCount:ke,getUsersThunkCreator:function(e,t){return function(){var n=Object(U.a)(L.a.mark((function n(a){var r;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(je(!0)),n.next=3,G(e,t);case 3:r=n.sent,a(je(!1)),a(Oe(r.items)),a(ke(r.totalCount));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},getUsersThunkCreatorPageChanged:function(e,t){return function(){var n=Object(U.a)(L.a.mark((function n(a){var r;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(we(e)),a(je(!0)),n.next=4,G(e,t);case 4:r=n.sent,a(je(!1)),a(Oe(r.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(Ve),We=n(76),Ye=n.n(We),qe=(n(296),function(e){return r.a.createElement("header",{className:Ye.a.header},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Logo_TV_2015.svg/1200px-Logo_TV_2015.svg.png",alt:""}),r.a.createElement("div",{className:Ye.a.loginBlock},r.a.createElement("div",null,e.isAuth?r.a.createElement("div",null,e.login," ",r.a.createElement("button",{onClick:e.getLogoutThunkCreator},"Logout")):r.a.createElement(d.b,{className:Ye.a.loginBlock,to:"/login"},"Login"))))}),_e={userId:null,login:null,email:null,isAuth:!1},Xe=function(e,t,n,a){return{type:"SET-USER-DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},Ze=function(){return function(){var e=Object(U.a)(L.a.mark((function e(t){var n,a,r,o,u;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.login,u=a.email,t(Xe(r,o,u,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},$e=function(){return function(){var e=Object(U.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:0===e.sent.data.resultCode&&t(Xe(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USER-DATA":return Object(M.a)({},e,{},t.payload);default:return e}},tt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(qe,this.props)}}]),t}(r.a.Component),nt=Object(me.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{setAuthUserData:Xe,getAuthUserDataThunkCreator:Ze,getLogoutThunkCreator:$e})(tt),at=n(54),rt=n.n(at),ot=Object(y.a)({form:"login"})((function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",null,r.a.createElement(T.a,{component:S.a,name:"email",placeholder:"email",validate:[A.b]})),r.a.createElement("div",null,r.a.createElement(T.a,{component:S.a,name:"password",placeholder:"password",validate:[A.b],type:"password"})),r.a.createElement("div",null,r.a.createElement(T.a,{component:S.a,name:"rememberMe",type:"checkbox"})," remember me"),e.error&&r.a.createElement("div",{className:rt.a.formSummaryError},e.error),r.a.createElement("div",null,r.a.createElement("button",null,"Sign in"))))})),ut=function(e){return e.isAuth?r.a.createElement(de.a,{to:"/profile"}):r.a.createElement(ot,{onSubmit:function(t){e.getLoginThunkCreator(t.email,t.password,t.rememberMe)}})},st=Object(me.b)((function(e){return{isAuth:e.auth.isAuth}}),{getLoginThunkCreator:function(e,t,n){return function(){var a=Object(U.a)(L.a.mark((function a(r){var o,u;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,q(e,t,n);case 2:0===(o=a.sent).data.resultCode?r(Ze()):(u=o.data.messages.length>0?o.data.messages[0]:"unknown error",r(Object(X.a)("login",{_error:u})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getLogoutThunkCreator:$e})(ut),it={initialized:!1},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED-SUCCESSFUL":return Object(M.a)({},e,{initialized:!0});default:return e}},lt=r.a.lazy((function(){return n.e(3).then(n.bind(null,299))})),mt=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeAppThunkCreator()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(nt,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(de.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(de.b,{path:"/dialogs",render:function(){return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(lt,null))}}),r.a.createElement(de.b,{path:"/news",render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(de.b,{path:"/music",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(de.b,{path:"/users",render:function(){return r.a.createElement(Je,null)}}),r.a.createElement(de.b,{path:"/settings",render:function(){return r.a.createElement(Ce,null)}}),r.a.createElement(de.b,{path:"/login",render:function(){return r.a.createElement(st,null)}})),r.a.createElement(g,null)):r.a.createElement("img",{src:C.a})}}]),t}(r.a.Component),ft=Object(ge.d)(de.f,Object(me.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppThunkCreator:function(){return function(e){var t=e(Ze());Promise.all([t]).then((function(){e({type:"INITIALIZED-SUCCESSFUL"})}))}}}))(mt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=n(132),dt={},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt;arguments.length>1&&arguments[1];return e},ht=n(142),Et=n(135),vt=Object(ge.c)({ProfilePage:ne,MessagesPage:pt.b,sidebar:gt,usersPage:Ae,auth:et,form:Et.a,app:ct}),bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.d,Ct=Object(ge.e)(vt,bt(Object(ge.a)(ht.a)));u.a.render(r.a.createElement(d.a,null,r.a.createElement(me.a,{store:Ct},r.a.createElement(ft,null))),document.getElementById("root")),window.store=Ct,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,n){e.exports={description:"ProfileInfo_description__1hDO9",item:"ProfileInfo_item__1NEDb",mainPhoto:"ProfileInfo_mainPhoto__3qB9b",contacs:"ProfileInfo_contacs__1lf_R",formSummaryError:"ProfileInfo_formSummaryError__1aUb6"}},38:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},44:function(e,t,n){e.exports=n.p+"static/media/6.910df377.gif"},51:function(e,t,n){e.exports=n.p+"static/media/user-icon.ae6dd9fd.png"},54:function(e,t,n){e.exports={formControls:"FormControls_formControls__1YHpi",error:"FormControls_error__299ad",formSummaryError:"FormControls_formSummaryError__2oWa6"}},69:function(e,t,n){e.exports={status:"ProfileStatus_status__1Hi0I"}},75:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__3Bl6B",pageNums:"Paginator_pageNums__3d0cO",paginator:"Paginator_paginator__2Obgr",pageNumber:"Paginator_pageNumber__cnxLD"}},76:function(e,t,n){e.exports={header:"Header_header__2pkoi",loginBlock:"Header_loginBlock__2nfUB"}},93:function(e,t,n){e.exports={usersPhoto:"Users_usersPhoto__2C3gv"}},98:function(e,t,n){e.exports={posts:"MyPosts_posts__1YUsx",mes:"MyPosts_mes__zDcsr"}},99:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(30),u=n(10),s=function(e){return{isAuth:e.auth.isAuth}},i=function(e){return Object(u.b)(s)((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(o.a,{to:"/login"})}))}}},[[168,1,2]]]);
//# sourceMappingURL=main.dac47826.chunk.js.map